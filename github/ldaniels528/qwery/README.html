<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-qwery" class="anchor" href="https://github.com/ldaniels528/qwery#qwery" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Qwery</h1> 
  <p>Qwery exposes a powerful SQL-like query language to extract structured data from files (file system, HTTP, S3), Kafka or REST services. Additionally, Qwery can be used as an ETL, REPL or library/SDK.</p> 
  <h3><a id="user-content-table-of-contents" class="anchor" href="https://github.com/ldaniels528/qwery#table-of-contents" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Table of Contents</h3> 
  <ul> 
   <li><a href="https://github.com/ldaniels528/qwery#motivation" target="_blank">Motivation</a></li> 
   <li><a href="https://github.com/ldaniels528/qwery#features" target="_blank">Features</a></li> 
   <li><a href="https://github.com/ldaniels528/qwery#development" target="_blank">Development</a> 
    <ul> 
     <li><a href="https://github.com/ldaniels528/qwery#build-requirements" target="_blank">Build Requirements</a></li> 
     <li><a href="https://github.com/ldaniels528/qwery#build-application" target="_blank">Building the applications</a></li> 
     <li><a href="https://github.com/ldaniels528/qwery#run-tests" target="_blank">Running the tests</a></li> 
    </ul> </li> 
   <li><a href="https://github.com/ldaniels528/qwery#sql-commands" target="_blank">SQL Syntax and Grammar</a> 
    <ul> 
     <li><a href="https://github.com/ldaniels528/qwery#select" target="_blank">SELECT statement</a> 
      <ul> 
       <li><a href="https://github.com/ldaniels528/qwery#join" target="_blank">JOINS</a></li> 
       <li><a href="https://github.com/ldaniels528/qwery#union" target="_blank">UNION clause</a></li> 
       <li><a href="https://github.com/ldaniels528/qwery#select-kafka" target="_blank">Querying Kafka topics</a></li> 
       <li><a href="https://github.com/ldaniels528/qwery#select-s3" target="_blank">Querying files on S3</a></li> 
      </ul> </li> 
     <li><a href="https://github.com/ldaniels528/qwery#built-in-functions" target="_blank">Built-in Functions</a></li> 
     <li><a href="https://github.com/ldaniels528/qwery#views" target="_blank">VIEWS</a></li> 
     <li><a href="https://github.com/ldaniels528/qwery#insert" target="_blank">INSERT statement</a></li> 
     <li><a href="https://github.com/ldaniels528/qwery#update" target="_blank">UPDATE statement</a></li> 
     <li><a href="https://github.com/ldaniels528/qwery#upsert" target="_blank">UPSERT statement</a></li> 
     <li><a href="https://github.com/ldaniels528/qwery#declare-set" target="_blank">DECLARE &amp; SET statements</a></li> 
     <li><a href="https://github.com/ldaniels528/qwery#show" target="_blank">SHOW statement</a></li> 
     <li><a href="https://github.com/ldaniels528/qwery#describe" target="_blank">DESCRIBE statement</a></li> 
     <li><a href="https://github.com/ldaniels528/qwery#user-defined-functions" target="_blank">User-defined Functions</a></li> 
     <li><a href="https://github.com/ldaniels528/qwery#stored-procedures" target="_blank">Stored Procedures</a></li> 
     <li><a href="https://github.com/ldaniels528/qwery#native-sql" target="_blank">NATIVE SQL</a></li> 
    </ul> </li> 
   <li><a href="https://github.com/ldaniels528/qwery#etl" target="_blank">Qwery ETL</a> 
    <ul> 
     <li><a href="https://github.com/ldaniels528/qwery#how-it-works" target="_blank">How it works</a> 
      <ul> 
       <li><a href="https://github.com/ldaniels528/qwery#sample-trigger-file" target="_blank">Sample Trigger Configuration file</a></li> 
       <li><a href="https://github.com/ldaniels528/qwery#sample-sql-script" target="_blank">Sample SQL script</a></li> 
       <li><a href="https://github.com/ldaniels528/qwery#file-archival" target="_blank">File Archival</a></li> 
       <li><a href="https://github.com/ldaniels528/qwery#scheduled-events" target="_blank">Scheduled Events</a></li> 
       <li><a href="https://github.com/ldaniels528/qwery#building-etl" target="_blank">Building and running the ETL</a></li> 
      </ul> </li> 
    </ul> </li> 
   <li><a href="https://github.com/ldaniels528/qwery#repl" target="_blank">Qwery REPL</a> 
    <ul> 
     <li><a href="https://github.com/ldaniels528/qwery#repl_start" target="_blank">Start the REPL</a></li> 
    </ul> </li> 
   <li><a href="https://github.com/ldaniels528/qwery#sdk" target="_blank">Qwery SDK</a></li> 
   <li><a href="https://github.com/ldaniels528/qwery#faq" target="_blank">Frequently Asked Questions (FAQ)</a></li> 
  </ul> 
  <p><a name="user-content-motivation" target="_blank" href=""></a></p> 
  <h3><a id="user-content-motivation" class="anchor" href="https://github.com/ldaniels528/qwery#motivation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Motivation</h3> 
  <p>Systems like <a href="http://storm.apache.org" target="_blank">Apache Storm</a> or <a href="http://spark.apache.org" target="_blank">Spark Streaming</a> are powerful and flexible distributed processing engines, which are usually fed by a message-oriented middleware solution (e.g. <a href="http://kafka.apache.org" target="_blank">Apache Kafka</a> or <a href="https://github.com/twitter/kestrel" target="_blank">Twitter Kestrel</a>).</p> 
  <p>The challenge that I've identified, is that organizations usually have to build a homegrown solution for the high-speed data/file ingestion into Kafka or Kestrel, which distracts them from their core focus. I've built Broadway to help provide a solution to that challenge.</p> 
  <p><a name="user-content-features" target="_blank" href=""></a></p> 
  <h3><a id="user-content-features" class="anchor" href="https://github.com/ldaniels528/qwery#features" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Features</h3> 
  <p>Qwery provides the capability of invoking SQL-like queries against:</p> 
  <ul> 
   <li>Files (local, HTTP or S3)</li> 
   <li>Avro-encoded or JSON-based Kafka topics</li> 
   <li>JDBC data sources</li> 
  </ul> 
  <p>Additionally, Qwery has three modes of operation:</p> 
  <ul> 
   <li>ETL/Orchestration Server</li> 
   <li>REPL/CLI tool</li> 
   <li>Library/SDK</li> 
  </ul> 
  <p><a name="user-content-development" target="_blank" href=""></a></p> 
  <h3><a id="user-content-development" class="anchor" href="https://github.com/ldaniels528/qwery#development" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Development</h3> 
  <p><a name="user-content-build-requirements" target="_blank" href=""></a></p> 
  <h4><a id="user-content-build-requirements" class="anchor" href="https://github.com/ldaniels528/qwery#build-requirements" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Build Requirements</h4> 
  <ul> 
   <li><a href="http://www.scala-sbt.org/download.html" target="_blank">SBT v0.13.15</a></li> 
  </ul> 
  <p><a name="user-content-build-application" target="_blank" href=""></a></p> 
  <h4><a id="user-content-building-the-applications" class="anchor" href="https://github.com/ldaniels528/qwery#building-the-applications" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Building the applications</h4> 
  <p>This project contains of two distinct applications: the ETL and the REPL.</p> 
  <p>To build the ETL:</p> 
  <div class="highlight highlight-source-shell">
   <pre>sbt <span class="pl-s"><span class="pl-pds">"</span>project etl<span class="pl-pds">"</span></span> clean assembly</pre>
  </div> 
  <pre lang="text"><code>[info] Packaging /Users/ldaniels/git/qwery/app/etl/target/scala-2.12/qwery-etl-0.3.8.bin.jar ...
[info] Done packaging.
[info] Done packaging.
</code></pre> 
  <p>To build the REPL:</p> 
  <div class="highlight highlight-source-shell">
   <pre>sbt <span class="pl-s"><span class="pl-pds">"</span>project cli<span class="pl-pds">"</span></span> clean assembly</pre>
  </div> 
  <pre lang="text"><code>[info] Packaging /Users/ldaniels/git/qwery/app/cli/target/scala-2.12/qwery-cli-0.3.8.bin.jar ...
[info] Done packaging.
[info] Done packaging.
</code></pre> 
  <p><a name="user-content-run-tests" target="_blank" href=""></a></p> 
  <h4><a id="user-content-running-the-tests" class="anchor" href="https://github.com/ldaniels528/qwery#running-the-tests" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Running the tests</h4> 
  <div class="highlight highlight-source-shell">
   <pre>$ sbt clean <span class="pl-c1">test</span></pre>
  </div> 
  <p>If you wish, you can also generate the code coverage report:</p> 
  <div class="highlight highlight-source-shell">
   <pre>sbt clean coverage <span class="pl-c1">test</span> coverageReport </pre>
  </div> 
  <pre lang="text"><code>[info] Generating scoverage reports...
[info] Written Cobertura report [/Users/ldaniels/git/qwery/target/scala-2.12/coverage-report/cobertura.xml]
[info] Written XML coverage report [/Users/ldaniels/git/qwery/target/scala-2.12/scoverage-report/scoverage.xml]
[info] Written HTML coverage report [/Users/ldaniels/git/qwery/target/scala-2.12/scoverage-report/index.html]
[info] Statement coverage.: 54.66%
[info] Branch coverage....: 65.79%
[info] Coverage reports completed
[info] All done. Coverage was [54.66%]
</code></pre> 
  <p><a name="user-content-sql-commands" target="_blank" href=""></a></p> 
  <h3><a id="user-content-sql-syntax-and-grammar" class="anchor" href="https://github.com/ldaniels528/qwery#sql-syntax-and-grammar" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SQL Syntax and Grammar</h3> 
  <p>Qwery currently supports a limited, but powerful set of SQL statements, including:</p> 
  <ul> 
   <li>CALL - used to execute a stored procedure.</li> 
   <li>CREATE FUNCTION - used to create user-defined functions.</li> 
   <li>CREATE PROCEDURE - used to create stored procedures.</li> 
   <li>CREATE VIEW - used to create views.</li> 
   <li>DECLARE - use to create (or declare) a variable.</li> 
   <li>DESCRIBE - shows the layout/structure of files or query results.</li> 
   <li>INSERT - inserts (appends or overwrites) files, Kafka topics, etc.</li> 
   <li>NATIVE SQL - Executes a native SQL query or statement (<em>JDBC only</em>).</li> 
   <li>SELECT - executes queries</li> 
   <li>SET - used to sets the value of a variable</li> 
   <li>SHOW - returns lists of files, variables (in the current scope) or views (in the current session)</li> 
   <li>UPDATE - updates a record (<em>JDBC only</em>)</li> 
   <li>UPSERT - inserts (or updates) a record (<em>JDBC only</em>).</li> 
  </ul> 
  <p><a name="user-content-select" target="_blank" href=""></a></p> 
  <h4><a id="user-content-select-statement" class="anchor" href="https://github.com/ldaniels528/qwery#select-statement" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SELECT statement</h4> 
  <p>The <code>SELECT</code> statement works as you would expect with a traditional SQL-like language, with one important difference... You can query structure files.</p> 
  <p>Count the number of (non-blank) lines in the file:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> <span class="pl-c1">COUNT</span>(<span class="pl-k">*</span>) <span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>./companylist.csv<span class="pl-pds">"</span></span></pre>
  </div> 
  <pre lang="text"><code>+ ---------- +
| SYQWYsxb   |
+ ---------- +
| 359        |
+ ---------- +
</code></pre> 
  <p>Count the number of lines that match a given set of criteria in the file:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> <span class="pl-c1">COUNT</span>(<span class="pl-k">*</span>) <span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>./companylist.csv<span class="pl-pds">"</span></span> <span class="pl-k">WHERE</span> Sector <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Basic Industries<span class="pl-pds">"</span></span></pre>
  </div> 
  <pre lang="text"><code>+ ---------- +
| pUREGxhj   |
+ ---------- +
| 44         |
+ ---------- +
</code></pre> 
  <p>Select fields from the file using criteria (WHERE clause):</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> Symbol, Name, Sector, Industry, LastSale, MarketCap <span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>./companylist.csv<span class="pl-pds">"</span></span> <span class="pl-k">WHERE</span> Industry <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>EDP Services<span class="pl-pds">"</span></span></pre>
  </div> 
  <pre lang="text"><code>+ -------------------------------------------------------------------------------- +
| Symbol  Name                   Sector      Industry      LastSale  MarketCap     |
+ -------------------------------------------------------------------------------- +
| TEUM    Pareteum Corporation   Technology  EDP Services  0.775     9893729.05    |
| WYY     WidePoint Corporation  Technology  EDP Services  0.44      36438301.68   |
+ -------------------------------------------------------------------------------- +
</code></pre> 
  <p>Aggregate data via GROUP BY:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> Sector, <span class="pl-c1">COUNT</span>(<span class="pl-k">*</span>) <span class="pl-k">AS</span> Securities <span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>./companylist.csv<span class="pl-pds">"</span></span> <span class="pl-k">GROUP BY</span> Sector</pre>
  </div> 
  <pre lang="text"><code>+ --------------------------------- + 
| Sector                 Securities | 
+ --------------------------------- + 
| Consumer Durables      4          | 
| Consumer Non-Durables  13         | 
| Energy                 30         | 
| Consumer Services      27         | 
| Transportation         1          | 
| n/a                    120        | 
| Health Care            48         | 
| Basic Industries       44         | 
| Public Utilities       11         | 
| Capital Goods          24         | 
| Finance                12         | 
| Technology             20         | 
| Miscellaneous          5          | 
+ --------------------------------- + 
</code></pre> 
  <p>CASE-WHEN is also supported:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> 
CASE <span class="pl-s"><span class="pl-pds">"</span>Hello World<span class="pl-pds">"</span></span>
 WHEN <span class="pl-s"><span class="pl-pds">"</span>HelloWorld<span class="pl-pds">"</span></span> THEN <span class="pl-s"><span class="pl-pds">"</span>Found 1<span class="pl-pds">"</span></span>
 WHEN <span class="pl-s"><span class="pl-pds">"</span>Hello<span class="pl-pds">"</span></span> <span class="pl-k">||</span> <span class="pl-s"><span class="pl-pds">"</span> <span class="pl-pds">"</span></span> <span class="pl-k">||</span> <span class="pl-s"><span class="pl-pds">"</span>World<span class="pl-pds">"</span></span> THEN <span class="pl-s"><span class="pl-pds">"</span>Found 2<span class="pl-pds">"</span></span>
 ELSE <span class="pl-s"><span class="pl-pds">"</span>Not Found<span class="pl-pds">"</span></span>
END <span class="pl-k">AS</span> Greeting</pre>
  </div> 
  <pre lang="text"><code>+ ---------- +
| Greeting   |
+ ---------- +
| Found 2    |
+ ---------- +
</code></pre> 
  <p><a name="user-content-join" target="_blank" href=""></a> INNER JOIN clauses are supported:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> <span class="pl-c1">A</span>.<span class="pl-c1">Symbol</span>, <span class="pl-c1">A</span>.<span class="pl-c1">Name</span>, <span class="pl-c1">A</span>.<span class="pl-c1">Sector</span>, <span class="pl-c1">A</span>.<span class="pl-c1">Industry</span>, <span class="pl-c1">A</span>.<span class="pl-c1">LastSale</span>, <span class="pl-c1">B</span>.<span class="pl-c1">LastSale</span> <span class="pl-k">AS</span> CurrentSale
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>companylist.csv<span class="pl-pds">"</span></span> <span class="pl-k">AS</span> A
<span class="pl-k">INNER JOIN</span> <span class="pl-s"><span class="pl-pds">"</span>companylist2.csv<span class="pl-pds">"</span></span> <span class="pl-k">AS</span> B <span class="pl-k">ON</span> <span class="pl-c1">B</span>.<span class="pl-c1">Symbol</span> <span class="pl-k">=</span> <span class="pl-c1">A</span>.<span class="pl-c1">Symbol</span>
<span class="pl-k">WHERE</span> <span class="pl-c1">A</span>.<span class="pl-c1">Industry</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Oil/Gas Transmission<span class="pl-pds">'</span></span>
<span class="pl-k">LIMIT</span> <span class="pl-c1">5</span></pre>
  </div> 
  <pre lang="text"><code>+ ---------------------------------------------------------------------------------------------------------------------- +
| A.Symbol  A.Name                                     A.Sector          A.Industry            A.LastSale  CurrentSale   |
+ ---------------------------------------------------------------------------------------------------------------------- +
| CQH       Cheniere Energy Partners LP Holdings, LLC  Public Utilities  Oil/Gas Transmission  25.68       26.23         |
| CQP       Cheniere Energy Partners, LP               Public Utilities  Oil/Gas Transmission  31.75       31.55         |
| LNG       Cheniere Energy, Inc.                      Public Utilities  Oil/Gas Transmission  45.35       47.28         |
| EGAS      Gas Natural Inc.                           Public Utilities  Oil/Gas Transmission  12.5        12.7          |
+ ---------------------------------------------------------------------------------------------------------------------- +
</code></pre> 
  <p><em>NOTE:</em> OUTER JOIN clauses will be implemented in a future release.</p> 
  <p><a name="user-content-union" target="_blank" href=""></a> UNION clauses are also supported:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> Symbol, Name, Sector, Industry, <span class="pl-s"><span class="pl-pds">`</span>Summary Quote<span class="pl-pds">`</span></span>
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">'</span>companylist.csv<span class="pl-pds">'</span></span>
<span class="pl-k">WHERE</span> Industry <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Oil/Gas Transmission<span class="pl-pds">'</span></span>
<span class="pl-k">UNION</span>
<span class="pl-k">SELECT</span> Symbol, Name, Sector, Industry, <span class="pl-s"><span class="pl-pds">`</span>Summary Quote<span class="pl-pds">`</span></span>
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">'</span>companylist.csv<span class="pl-pds">'</span></span>
<span class="pl-k">WHERE</span> Industry <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Integrated oil Companies<span class="pl-pds">'</span></span></pre>
  </div> 
  <pre lang="text"><code>+ ---------------------------------------------------------------------------------------------------------------------------------- +
| Symbol  Name                                       Sector            Industry                  Summary Quote                       |
+ ---------------------------------------------------------------------------------------------------------------------------------- +
| CQH     Cheniere Energy Partners LP Holdings, LLC  Public Utilities  Oil/Gas Transmission      http://www.nasdaq.com/symbol/cqh    |
| CQP     Cheniere Energy Partners, LP               Public Utilities  Oil/Gas Transmission      http://www.nasdaq.com/symbol/cqp    |
| LNG     Cheniere Energy, Inc.                      Public Utilities  Oil/Gas Transmission      http://www.nasdaq.com/symbol/lng    |
| EGAS    Gas Natural Inc.                           Public Utilities  Oil/Gas Transmission      http://www.nasdaq.com/symbol/egas   |
| IMO     Imperial Oil Limited                       Energy            Integrated oil Companies  http://www.nasdaq.com/symbol/imo    |
+ ---------------------------------------------------------------------------------------------------------------------------------- +
</code></pre> 
  <p><a name="user-content-select-kafka" target="_blank" href=""></a> Query Kafka topics:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> visitorId, adGroup, program, pageLabel, categoryId, referrerDomain
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>kafka://dev001:9093?topic=weblogs&amp;group_id=ldtest1<span class="pl-pds">"</span></span>
WITH JSON FORMAT
WITH PROPERTIES <span class="pl-s"><span class="pl-pds">"</span>./kafka-auth.properties<span class="pl-pds">"</span></span>
<span class="pl-k">LIMIT</span> <span class="pl-c1">5</span>;</pre>
  </div> 
  <pre lang="text"><code>+ --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- +
| visitorId                 adGroup                       program       pageLabel                          categoryId                         referrerDomain                  |
+ --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- +
| 53992737-1688-4983-ad671  adgroup_a123                  QweryDotCom   inventory_listing_no_results_auto  inventory_listing_no_results_auto  google.com                      |
| 53992737-1688-4983-ad672  adgroup_a123                  QweryDotCom   styletisell_zip                    styletisell_zip                    bing.com                        |
| 53992737-1688-4983-ad673  adgroup_a123                  QweryDotCom   InventoryListingAutoAllSubaru      InventoryListingAutoAllSubaru      yahoo.com                       |
| 53992737-1688-4983-ad674  adgroup_a123                  QweryDotCom                                                                                                         |
| 53992737-1688-4983-ad675  adgroup_a123                  QweryDotCom                                                                                                         |
+ --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- +
</code></pre> 
  <p>You can also query Avro-encoded Kafka topics:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> visitorId, adGroup, program, pageLabel, categoryId, referrerDomain
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>kafka://dev001:9093?topic=weblogs_avro&amp;group_id=ldtest2<span class="pl-pds">"</span></span>
WITH AVRO <span class="pl-s"><span class="pl-pds">"</span>./weblogs-v1.avsc<span class="pl-pds">"</span></span> 
WITH PROPERTIES <span class="pl-s"><span class="pl-pds">"</span>./kafka-auth.properties<span class="pl-pds">"</span></span>
<span class="pl-k">LIMIT</span> <span class="pl-c1">5</span>;</pre>
  </div> 
  <pre lang="text"><code>+ --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- +
| visitorId                 adGroup                       program       pageLabel                          categoryId                         referrerDomain                  |
+ --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- +
| 53992737-1688-4983-ad671  adgroup_a123                  QweryDotCom   inventory_listing_no_results_auto  inventory_listing_no_results_auto  google.com                      |
| 53992737-1688-4983-ad672  adgroup_a123                  QweryDotCom   styletisell_zip                    styletisell_zip                    bing.com                        |
| 53992737-1688-4983-ad673  adgroup_a123                  QweryDotCom   InventoryListingAutoAllSubaru      InventoryListingAutoAllSubaru      yahoo.com                       |
| 53992737-1688-4983-ad674  adgroup_a123                  QweryDotCom                                                                                                         |
| 53992737-1688-4983-ad675  adgroup_a123                  QweryDotCom                                                                                                         |
+ --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- +
</code></pre> 
  <p><a name="user-content-select-s3" target="_blank" href=""></a> Query files on S3:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> Symbol, Name, Sector, Industry, LastSale, MarketCap 
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>s3://ldaniels3/companylist.csv<span class="pl-pds">"</span></span>
WITH PROPERTIES <span class="pl-s"><span class="pl-pds">"</span>./aws-s3.properties<span class="pl-pds">"</span></span>
<span class="pl-k">WHERE</span> Industry <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>EDP Services<span class="pl-pds">"</span></span></pre>
  </div> 
  <pre lang="text"><code>+ -------------------------------------------------------------------------------- +
| Symbol  Name                   Sector      Industry      LastSale  MarketCap     |
+ -------------------------------------------------------------------------------- +
| TEUM    Pareteum Corporation   Technology  EDP Services  0.775     9893729.05    |
| WYY     WidePoint Corporation  Technology  EDP Services  0.44      36438301.68   |
+ -------------------------------------------------------------------------------- +
</code></pre> 
  <p><em>NOTE</em>: The properties file may contain the following properties:</p> 
  <div class="highlight highlight-source-ini">
   <pre><span class="pl-k">AWS_ACCESS_KEY_ID</span>=[YOUR AWS ACCESS KEY]
<span class="pl-k">AWS_SECRET_ACCESS_KEY</span>=[YOUR AWS SECRET ACCESS KEY]
<span class="pl-k">AWS_SESSION_TOKEN</span>=[YOUR AWS SESSION TOKEN]
<span class="pl-k">AWS_REGION</span>=[YOUR AWS REGION]</pre>
  </div> 
  <p>Alternatively, you could also use profile-based authentication:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> Symbol, Name, Sector, Industry, LastSale, MarketCap 
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>s3://ldaniels3/companylist.csv?profile=ldaniels3&amp;region=us-west-2<span class="pl-pds">"</span></span>
<span class="pl-k">WHERE</span> Industry <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>EDP Services<span class="pl-pds">"</span></span></pre>
  </div> 
  <pre lang="text"><code>+ -------------------------------------------------------------------------------- +
| Symbol  Name                   Sector      Industry      LastSale  MarketCap     |
+ -------------------------------------------------------------------------------- +
| TEUM    Pareteum Corporation   Technology  EDP Services  0.775     9893729.05    |
| WYY     WidePoint Corporation  Technology  EDP Services  0.44      36438301.68   |
+ -------------------------------------------------------------------------------- +
</code></pre> 
  <p><a name="user-content-built-in-functions" target="_blank" href=""></a></p> 
  <h4><a id="user-content-built-in-functions" class="anchor" href="https://github.com/ldaniels528/qwery#built-in-functions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Built-in Functions</h4> 
  <table> 
   <thead> 
    <tr> 
     <th>Function</th> 
     <th>Purpose</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td>AVG(expression)</td> 
     <td>Returns the average of an expression</td> 
    </tr> 
    <tr> 
     <td>CONCAT(string1, string2)</td> 
     <td>Returns the concatenation of two strings</td> 
    </tr> 
    <tr> 
     <td>COUNT(expression)</td> 
     <td>Returns the count of an expression</td> 
    </tr> 
    <tr> 
     <td>DATE_FORMAT(date, format)</td> 
     <td>Returns a string representation of a date in the specified format.</td> 
    </tr> 
    <tr> 
     <td>DATE_PARSE(string, format)</td> 
     <td>Returns a date parsed from the given string in the specified format.</td> 
    </tr> 
    <tr> 
     <td>LEFT(string, number)</td> 
     <td>Returns the specified number of characters from the left of the string</td> 
    </tr> 
    <tr> 
     <td>LEN(string)</td> 
     <td>Returns the length of a given string.</td> 
    </tr> 
    <tr> 
     <td>MAX(expression)</td> 
     <td>Returns the maximum value of a given field</td> 
    </tr> 
    <tr> 
     <td>MIN(expression)</td> 
     <td>Returns the minimum value of a given field</td> 
    </tr> 
    <tr> 
     <td>NOW()</td> 
     <td>Returns the current date/time.</td> 
    </tr> 
    <tr> 
     <td>PADLEFT(string, width)</td> 
     <td>Returns a copy of the given string right-justified by the given width.</td> 
    </tr> 
    <tr> 
     <td>PADRIGHT(string, width)</td> 
     <td>Returns a copy of the given string left-justified by the given width.</td> 
    </tr> 
    <tr> 
     <td>POW(base, exponent)</td> 
     <td>Returns a number representing the given base taken to the power of the given exponent.</td> 
    </tr> 
    <tr> 
     <td>RAND()</td> 
     <td>Return a random floating-point value.</td> 
    </tr> 
    <tr> 
     <td>RIGHT(string, number)</td> 
     <td>Returns the specified number of characters from the right of the string</td> 
    </tr> 
    <tr> 
     <td>SIGN(expression)</td> 
     <td>Returns the sign of the argument as -1, 0, or 1, depending on whether X is negative, zero, or positive.</td> 
    </tr> 
    <tr> 
     <td>SPLIT(string, delimiter)</td> 
     <td>Splits a string by a delimiting character (or string) and returns an array of strings.</td> 
    </tr> 
    <tr> 
     <td>SQRT(expression)</td> 
     <td>Returns the square root of a given number.</td> 
    </tr> 
    <tr> 
     <td>SUBSTRING(string, start, length)</td> 
     <td>Returns a specified number of characters from a particular position of a given string.</td> 
    </tr> 
    <tr> 
     <td>SUM(expression)</td> 
     <td>Returns the sum of a given field.</td> 
    </tr> 
    <tr> 
     <td>TRIM(string)</td> 
     <td>Returns a string after removing all prefixes or suffixes from the given string.</td> 
    </tr> 
    <tr> 
     <td>UUID()</td> 
     <td>Returns a random UUID.</td> 
    </tr>
   </tbody>
  </table> 
  <p>Perform date conversions:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> DATE_PARSE(<span class="pl-s"><span class="pl-pds">'</span>2017-05-12<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>yyyy-MM-dd<span class="pl-pds">'</span></span>) <span class="pl-k">AS</span> EntryDate</pre>
  </div> 
  <pre lang="text"><code>+ ----------------------- +
| EntryDate               |
+ ----------------------- +
| 05/12/17 12:00:00 PDT   |
+ ----------------------- +
</code></pre> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> DATE_FORMAT(DATE_PARSE(<span class="pl-s"><span class="pl-pds">'</span>2017-05-12<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>yyyy-MM-dd<span class="pl-pds">'</span></span>), <span class="pl-s"><span class="pl-pds">'</span>MM-dd-yyyy<span class="pl-pds">'</span></span>) <span class="pl-k">AS</span> EntryDate</pre>
  </div> 
  <pre lang="text"><code>+ ------------ +
| EntryDate    |
+ ------------ +
| 05-12-2017   |
+ ------------ +
</code></pre> 
  <p>Sum values (just like you normally do with SQL) in the file:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> <span class="pl-c1">SUM</span>(LastSale) <span class="pl-k">AS</span> total <span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>./companylist.csv<span class="pl-pds">"</span></span> <span class="pl-k">LIMIT</span> <span class="pl-c1">5</span></pre>
  </div> 
  <pre lang="text"><code>+ --------------- +
| total           |
+ --------------- +
| 77.1087         |
+ --------------- +
</code></pre> 
  <p>Type-casting and column name aliases are supported:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> CAST(<span class="pl-s"><span class="pl-pds">"</span>1234<span class="pl-pds">"</span></span> <span class="pl-k">AS</span> Double) <span class="pl-k">AS</span> <span class="pl-k">number</span></pre>
  </div> 
  <pre lang="text"><code>+ -------- + 
| number   | 
+ -------- + 
| 1234.0   | 
+ -------- + 
</code></pre> 
  <p>Supported types are:</p> 
  <table> 
   <thead> 
    <tr> 
     <th>Type</th> 
     <th>Description</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td>Boolean</td> 
     <td>Boolean values; <code>true</code> or <code>false</code></td> 
    </tr> 
    <tr> 
     <td>Byte</td> 
     <td>Signed 8-bit integers; range: -127 to 127</td> 
    </tr> 
    <tr> 
     <td>Date</td> 
     <td>Date/Time values</td> 
    </tr> 
    <tr> 
     <td>Double</td> 
     <td>Double precision decimal; 32-bit floating point</td> 
    </tr> 
    <tr> 
     <td>Float</td> 
     <td>Single precision decimal; 16-bit floating point</td> 
    </tr> 
    <tr> 
     <td>Int / Integer</td> 
     <td>Signed 32-bit integers</td> 
    </tr> 
    <tr> 
     <td>Long</td> 
     <td>Signed 64-bit integers</td> 
    </tr> 
    <tr> 
     <td>Short</td> 
     <td>Signed 16-bit integers</td> 
    </tr> 
    <tr> 
     <td>String</td> 
     <td>Text values</td> 
    </tr> 
    <tr> 
     <td>UUID</td> 
     <td>Universally Unique Identifier (e.g. "1d8d1609-78db-4813-a87a-9cdf989bb896")</td> 
    </tr>
   </tbody>
  </table> 
  <p><a name="user-content-views" target="_blank" href=""></a></p> 
  <h4><a id="user-content-views" class="anchor" href="https://github.com/ldaniels528/qwery#views" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>VIEWS</h4> 
  <p>Creating a view works the same as with traditional RDBMSes, with one important difference, views are not persistent. In Qwery, views are tied to the current session; thus, one you exit the application, the view no longer exists.</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">CREATE</span> <span class="pl-k">VIEW</span> "<span class="pl-en">OilAndGas</span>" <span class="pl-k">AS</span>
<span class="pl-k">SELECT</span> Symbol, Name, Sector, Industry, <span class="pl-s"><span class="pl-pds">`</span>Summary Quote<span class="pl-pds">`</span></span>
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>companylist.csv<span class="pl-pds">"</span></span>
<span class="pl-k">WHERE</span> Industry <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Oil/Gas Transmission<span class="pl-pds">"</span></span></pre>
  </div> 
  <pre lang="text"><code>+ --------------- +
| ROWS_AFFECTED   |
+ --------------- +
| 1               |
+ --------------- +      
</code></pre> 
  <p>Now you can query results from the view:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> <span class="pl-k">*</span> <span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>OilAndGas<span class="pl-pds">"</span></span>;</pre>
  </div> 
  <pre lang="text"><code>+ ------------------------------------------------------------------------------------------------------------------------------ +
| Symbol  Name                                       Sector            Industry              Summary Quote                       |
+ ------------------------------------------------------------------------------------------------------------------------------ +
| CQH     Cheniere Energy Partners LP Holdings, LLC  Public Utilities  Oil/Gas Transmission  http://www.nasdaq.com/symbol/cqh    |
| CQP     Cheniere Energy Partners, LP               Public Utilities  Oil/Gas Transmission  http://www.nasdaq.com/symbol/cqp    |
| LNG     Cheniere Energy, Inc.                      Public Utilities  Oil/Gas Transmission  http://www.nasdaq.com/symbol/lng    |
| EGAS    Gas Natural Inc.                           Public Utilities  Oil/Gas Transmission  http://www.nasdaq.com/symbol/egas   |
+ ------------------------------------------------------------------------------------------------------------------------------ +
</code></pre> 
  <p><a name="user-content-insert" target="_blank" href=""></a></p> 
  <h4><a id="user-content-insert-statement" class="anchor" href="https://github.com/ldaniels528/qwery#insert-statement" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>INSERT statement</h4> 
  <p>The <code>INSERT</code> statement behaves very much like its RDBMS counterparts, as you can directly insert collections of values, or insert the results of a query.</p> 
  <div class="highlight highlight-source-sql">
   <pre>INSERT OVERWRITE <span class="pl-s"><span class="pl-pds">'</span>test1.csv<span class="pl-pds">'</span></span> (Symbol, Name, LastSale, MarketCap)
<span class="pl-k">VALUES</span> (<span class="pl-s"><span class="pl-pds">"</span>XXII<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>22nd Century Group, Inc<span class="pl-pds">"</span></span>, <span class="pl-c1">1</span>.<span class="pl-c1">4</span>, <span class="pl-c1">126977358</span>.<span class="pl-c1">2</span>)
<span class="pl-k">VALUES</span> (<span class="pl-s"><span class="pl-pds">"</span>FAX<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Aberdeen Asia-Pacific Income Fund Inc<span class="pl-pds">"</span></span>, <span class="pl-c1">5</span>, <span class="pl-c1">1266332595</span>)
<span class="pl-k">VALUES</span> (<span class="pl-s"><span class="pl-pds">"</span>ACU<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Acme United Corporation.<span class="pl-pds">"</span></span>, <span class="pl-c1">29</span>, <span class="pl-c1">96496195</span>);</pre>
  </div> 
  <pre lang="text"><code>+ --------------- +
| ROWS_INSERTED   |
+ --------------- +
| 3               |
+ --------------- +
</code></pre> 
  <p>Copy a portion of one file to another (appending the target):</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">INSERT INTO</span> <span class="pl-s"><span class="pl-pds">"</span>./test2.csv<span class="pl-pds">"</span></span> (Symbol, Sector, Industry, LastSale)
<span class="pl-k">SELECT</span> Symbol, Sector, Industry, LastSale <span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>./companylist.csv<span class="pl-pds">"</span></span>
<span class="pl-k">WHERE</span> Industry <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Homebuilding<span class="pl-pds">"</span></span>;</pre>
  </div> 
  <pre lang="text"><code>+ --------------- +
| ROWS_INSERTED   |
+ --------------- +
| 1               |
+ --------------- +
</code></pre> 
  <p>Copy a portion of one file to another (overwriting the target):</p> 
  <div class="highlight highlight-source-sql">
   <pre>INSERT OVERWRITE <span class="pl-s"><span class="pl-pds">"</span>./test3.csv<span class="pl-pds">"</span></span> (Symbol, Sector, Industry, LastSale)
<span class="pl-k">SELECT</span> Symbol, Sector, Industry, LastSale <span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>./companylist.csv<span class="pl-pds">"</span></span>
<span class="pl-k">WHERE</span> Industry <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Precious Metals<span class="pl-pds">"</span></span>;</pre>
  </div> 
  <pre lang="text"><code>+ --------------- +
| ROWS_INSERTED   |
+ --------------- +
| 44              |
+ --------------- +
</code></pre> 
  <p>Moreover, <code>INSERT</code> supports the notion of hints. You can provide "hints" to the compiler about the format you want to read or write:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">INSERT INTO</span> <span class="pl-s"><span class="pl-pds">"</span>companylist.json<span class="pl-pds">"</span></span> (Symbol, Name, Sector, Industry) WITH JSON FORMAT
<span class="pl-k">SELECT</span> Symbol, Name, Sector, Industry, <span class="pl-s"><span class="pl-pds">`</span>Summary Quote<span class="pl-pds">`</span></span>
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>companylist.csv<span class="pl-pds">"</span></span>
WITH CSV FORMAT</pre>
  </div> 
  <p>The above statement reads: retrieve records from the "companylist.csv" CSV file and write them to the "companylist.json" file in JSON format.</p> 
  <p>Now, in this case, because the file extensions provide hints to Qwery about the format of the file, we could omit the explicit hints as follows:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">INSERT INTO</span> <span class="pl-s"><span class="pl-pds">"</span>companylist.json<span class="pl-pds">"</span></span> (Symbol, Name, Sector, Industry)
<span class="pl-k">SELECT</span> Symbol, Name, Sector, Industry, <span class="pl-s"><span class="pl-pds">`</span>Summary Quote<span class="pl-pds">`</span></span>
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>companylist.csv<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>The two <code>INSERT</code> statements above are functionally identical.</p> 
  <p><em>NOTE</em>: When processing files via the ETL module, it is recommend to provide hints as to the input and output formats.</p> 
  <p>You can also choose to "pipe" the results of a query to an output source:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> Symbol, Name, Sector, Industry, <span class="pl-s"><span class="pl-pds">`</span>Summary Quote<span class="pl-pds">`</span></span>
INTO <span class="pl-s"><span class="pl-pds">"</span>companylist.json<span class="pl-pds">"</span></span> WITH JSON FORMAT 
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>companylist.csv<span class="pl-pds">"</span></span>
WITH CSV FORMAT;</pre>
  </div> 
  <pre lang="text"><code>+ --------------- +
| ROWS_INSERTED   |
+ --------------- +
| 359             |
+ --------------- +
</code></pre> 
  <p><em>NOTE:</em> The <code>SELECT</code> statement with <code>INTO</code> clause is merely syntactic sugar for the more verbose INSERT-SELECT grammar.</p> 
  <p>Here is an example of generating fixed-width data:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">INSERT INTO</span> <span class="pl-s"><span class="pl-pds">'</span>fixed-data.txt<span class="pl-pds">'</span></span> (Symbol^<span class="pl-c1">10</span>, Name^<span class="pl-c1">40</span>, Sector^<span class="pl-c1">40</span>, Industry^<span class="pl-c1">40</span>, LastTrade^<span class="pl-c1">10</span>) WITH FIXED WIDTH 
<span class="pl-k">SELECT</span> Symbol, Name, Sector, Industry, LastSale
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">'</span>companylist.csv<span class="pl-pds">'</span></span>
<span class="pl-k">WHERE</span> Industry <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Oil/Gas Transmission<span class="pl-pds">'</span></span></pre>
  </div> 
  <pre lang="text"><code>+ --------------- +
| ROWS_INSERTED   |
+ --------------- +
| 4               |
+ --------------- +
</code></pre> 
  <p>The above example results in appending 4 fixed-width lines to the file 'fixed-data.txt', where:</p> 
  <ul> 
   <li><em>Symbol</em> is 10-characters wide</li> 
   <li><em>Name</em> is 40-characters wide</li> 
   <li><em>Sector</em> is 40-characters wide</li> 
   <li><em>LastTrade</em> is 10-characters wide</li> 
  </ul> 
  <p>You can also insert records into an RDBMS like MySQL using JDBC, consider the following:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">INSERT INTO</span> <span class="pl-s"><span class="pl-pds">'</span>jdbc:mysql://localhost:3306/test?table=company<span class="pl-pds">'</span></span> (Symbol, Name, Sector, Industry, MarketCap, LastSale)
WITH JDBC DRIVER <span class="pl-s"><span class="pl-pds">'</span>com.mysql.jdbc.Driver<span class="pl-pds">'</span></span>
<span class="pl-k">SELECT</span> Symbol, Name, Sector, Industry, MarketCap,
 CASE LastSale
   WHEN <span class="pl-s"><span class="pl-pds">'</span>n/a<span class="pl-pds">'</span></span> THEN <span class="pl-k">NULL</span>
   ELSE CAST(LastSale <span class="pl-k">AS</span> DOUBLE)
 END
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">'</span>./companylist.csv<span class="pl-pds">'</span></span></pre>
  </div> 
  <pre lang="text"><code>+ --------------- +
| ROWS_INSERTED   |
+ --------------- +
| 359             |
+ --------------- +
</code></pre> 
  <p>The MySQL table definition is as follows:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">CREATE</span> <span class="pl-k">TABLE</span> <span class="pl-en">company</span> (
    Symbol <span class="pl-k">VARCHAR</span>(<span class="pl-c1">10</span>) <span class="pl-k">PRIMARY KEY</span>,
    Name <span class="pl-k">VARCHAR</span>(<span class="pl-c1">64</span>),
    LastSale <span class="pl-k">DECIMAL</span>(<span class="pl-c1">9</span>, <span class="pl-c1">4</span>),
    MarketCap <span class="pl-k">DECIMAL</span>(<span class="pl-c1">20</span>,<span class="pl-c1">4</span>),
    Sector <span class="pl-k">VARCHAR</span>(<span class="pl-c1">64</span>),
    Industry <span class="pl-k">VARCHAR</span>(<span class="pl-c1">64</span>)
);</pre>
  </div> 
  <p><a name="user-content-update" target="_blank" href=""></a></p> 
  <h4><a id="user-content-update-statement" class="anchor" href="https://github.com/ldaniels528/qwery#update-statement" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>UPDATE statement</h4> 
  <p>Unlike the <a href="https://github.com/ldaniels528/qwery#insert" target="_blank">INSERT</a> statement, <code>UPDATE</code> behaves differently from its RDBMS counterpart, as it is primarily meant to update a collection of records via the results of a query.</p> 
  <p>Consider the following example:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">UPDATE</span> <span class="pl-s"><span class="pl-pds">'</span>jdbc:mysql://localhost:3306/test?table=company<span class="pl-pds">'</span></span>
<span class="pl-k">SET</span> Industry <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Oil/Gas<span class="pl-pds">'</span></span>
KEYED <span class="pl-k">ON</span> Symbol
WITH JDBC DRIVER <span class="pl-s"><span class="pl-pds">'</span>com.mysql.jdbc.Driver<span class="pl-pds">'</span></span>
<span class="pl-k">SELECT</span> Symbol, Name, Sector, Industry, CASE LastSale WHEN <span class="pl-s"><span class="pl-pds">'</span>n/a<span class="pl-pds">'</span></span> THEN <span class="pl-k">NULL</span> ELSE LastSale END <span class="pl-k">AS</span> LastSale
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">'</span>companylist.csv<span class="pl-pds">'</span></span>
<span class="pl-k">WHERE</span> Industry <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Oil/Gas Transmission<span class="pl-pds">'</span></span></pre>
  </div> 
  <pre lang="text"><code>+ --------------- +
| ROWS_UPDATED    |
+ --------------- +
| 4               |
+ --------------- +
</code></pre> 
  <p>Notice in the example above, the <code>KEYED ON</code> clause. This clause specifies the columns that are to be used in the <code>WHERE</code> clause that is generated to update each of the selected records.</p> 
  <p><a name="user-content-upsert" target="_blank" href=""></a></p> 
  <h4><a id="user-content-upsert-statement" class="anchor" href="https://github.com/ldaniels528/qwery#upsert-statement" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>UPSERT statement</h4> 
  <p>Additionally, there are times when you want to attempt an INSERT, but perform an UPDATE if it fails due to a primary key constraint. In cases like these, you'll want to use the UPSERT statement.</p> 
  <p>Consider the following example:</p> 
  <div class="highlight highlight-source-sql">
   <pre>UPSERT INTO <span class="pl-s"><span class="pl-pds">'</span>jdbc:mysql://localhost:3306/test?table=company<span class="pl-pds">'</span></span> (Symbol, Name, Sector, Industry, LastSale)
KEYED <span class="pl-k">ON</span> Symbol
WITH JDBC DRIVER <span class="pl-s"><span class="pl-pds">'</span>com.mysql.jdbc.Driver<span class="pl-pds">'</span></span>
<span class="pl-k">SELECT</span> Symbol, Name, Sector, Industry, CASE LastSale WHEN <span class="pl-s"><span class="pl-pds">'</span>n/a<span class="pl-pds">'</span></span> THEN <span class="pl-k">NULL</span> ELSE LastSale END
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">'</span>companylist.csv<span class="pl-pds">'</span></span></pre>
  </div> 
  <pre lang="text"><code>+ ----------------------------- +
| ROWS_INSERTED  ROWS_UPDATED   |
+ ----------------------------- +
| 0              359            |
+ ----------------------------- +
</code></pre> 
  <p><a name="user-content-declare-set" target="_blank" href=""></a></p> 
  <h4><a id="user-content-declare--set-statements" class="anchor" href="https://github.com/ldaniels528/qwery#declare--set-statements" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>DECLARE &amp; SET statements</h4> 
  <p>The <em>SET</em> statement is used to set the value or a variable. <em>NOTE</em> You must declare the variable prior to using it.</p> 
  <div class="highlight highlight-source-sql">
   <pre>DECLARE @myVariable DOUBLE</pre>
  </div> 
  <p>You can set simple constant values:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SET</span> @myVariable <span class="pl-k">=</span> <span class="pl-c1">1</span></pre>
  </div> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SET</span> @myVariable <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Hello World<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>You can also set values from a result set:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SET</span> @myVariable <span class="pl-k">=</span> (<span class="pl-k">SELECT</span> <span class="pl-c1">1</span>)</pre>
  </div> 
  <p>To display the contents of a variable, just <code>SELECT</code> it.</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> @myVariable</pre>
  </div> 
  <p><a name="user-content-show" target="_blank" href=""></a></p> 
  <h4><a id="user-content-show-statement" class="anchor" href="https://github.com/ldaniels528/qwery#show-statement" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SHOW statement</h4> 
  <p>The <em>SHOW</em> statement is used to retrieve:</p> 
  <ul> 
   <li>lists of files in the current directory (<code>SHOW FILES</code>)</li> 
   <li>variables in the current scope (<code>SHOW VARIABLES</code>)</li> 
   <li>or, views defined within the current session (<code>SHOW VIEWS</code>)</li> 
  </ul> 
  <p>Consider the following examples:</p> 
  <div class="highlight highlight-source-sql">
   <pre>SHOW FILES</pre>
  </div> 
  <pre lang="text"><code>+ ----------------------------------------------------------------------------------------------------------------- +
| Name                        Size   LastModified           Path                                                    |
+ ----------------------------------------------------------------------------------------------------------------- +
| awssdk_config_default.json  4058   05/16/17 01:33:18 PDT  /Users/ldaniels/git/qwery/app/cli/target/streams/$...   |
| endpoints.json              50843  05/16/17 01:33:18 PDT  /Users/ldaniels/git/qwery/app/cli/target/streams/$...   |
| awssdk_config_default.json  4058   05/16/17 01:33:18 PDT  /Users/ldaniels/git/qwery/app/etl/target/streams/$...   |
| endpoints.json              50843  05/16/17 01:33:18 PDT  /Users/ldaniels/git/qwery/app/etl/target/streams/$...   |
| companylist.csv             50166  04/29/17 05:23:22 PDT  /Users/ldaniels/git/qwery                               |
| companylist.csv             50166  04/29/17 05:23:22 PDT  /Users/ldaniels/git/qwery/example/archive/2017/05/...   |
| companylist.json            57070  05/29/17 09:57:35 PDT  /Users/ldaniels/git/qwery/example/archive/2017/05/...   |
| pixall-v5.avsc.json         12805  05/25/17 10:02:07 PDT  /Users/ldaniels/git/qwery/example/config                |
| triggers.json               349    05/30/17 03:09:49 PDT  /Users/ldaniels/git/qwery/example/config                |
| awssdk_config_default.json  4058   05/16/17 01:33:18 PDT  /Users/ldaniels/git/qwery/target/streams/$global/a...   |
| endpoints.json              50843  05/16/17 01:33:18 PDT  /Users/ldaniels/git/qwery/target/streams/$global/a...   |
| test1.csv                   3003   05/30/17 03:43:27 PDT  /Users/ldaniels/git/qwery                               |
| test2.csv                   3837   05/30/17 03:43:28 PDT  /Users/ldaniels/git/qwery                               |
| test3.json                  6863   05/30/17 03:43:28 PDT  /Users/ldaniels/git/qwery                               |
+ ----------------------------------------------------------------------------------------------------------------- +
</code></pre> 
  <p>Like all other commands that return a result set, it's results are composable (can be used as sub-queries).</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> <span class="pl-k">*</span> <span class="pl-k">FROM</span> (SHOW FILES) <span class="pl-k">WHERE</span> Name <span class="pl-k">LIKE</span> <span class="pl-s"><span class="pl-pds">"</span>%.csv<span class="pl-pds">"</span></span>;</pre>
  </div> 
  <pre lang="text"><code>+ ------------------------------------------------------------------------------------------------------ +
| Name             Size   LastModified           Path                                                    |
+ ------------------------------------------------------------------------------------------------------ +
| companylist.csv  50166  04/29/17 05:23:22 PDT  /Users/ldaniels/git/qwery                               |
| companylist.csv  50166  04/29/17 05:23:22 PDT  /Users/ldaniels/git/qwery/example/archive/2017/05/...   |
| test1.csv        3003   05/30/17 03:43:27 PDT  /Users/ldaniels/git/qwery                               |
| test2.csv        3837   05/30/17 03:43:28 PDT  /Users/ldaniels/git/qwery                               |
+ ------------------------------------------------------------------------------------------------------ +
</code></pre> 
  <div class="highlight highlight-source-sql">
   <pre>DESCRIBE (<span class="pl-k">SELECT</span> <span class="pl-k">*</span> <span class="pl-k">FROM</span> (SHOW FILES) <span class="pl-k">WHERE</span> Name <span class="pl-k">LIKE</span> <span class="pl-s"><span class="pl-pds">"</span>%.csv<span class="pl-pds">"</span></span>);</pre>
  </div> 
  <pre lang="text"><code>+ ------------------------------------------------- +
| Column        Type    Sample                      |
+ ------------------------------------------------- +
| Name          String  companylist.csv             |
| Size          Long    50166                       |
| LastModified  Date    04/29/17 05:23:22 PDT       |
| Path          String  /Users/ldaniels/git/qwery   |
+ ------------------------------------------------- +
</code></pre> 
  <p><a name="user-content-describe" target="_blank" href=""></a></p> 
  <h4><a id="user-content-describe-statements" class="anchor" href="https://github.com/ldaniels528/qwery#describe-statements" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>DESCRIBE statements</h4> 
  <p>The <em>DESCRIBE</em> statement is used to display the structure of a result.</p> 
  <p>As such, it can be used to "describe" the layout of a local file:</p> 
  <div class="highlight highlight-source-sql">
   <pre>DESCRIBE <span class="pl-s"><span class="pl-pds">"</span>./companylist.csv<span class="pl-pds">"</span></span>;</pre>
  </div> 
  <pre lang="text"><code>+ --------------------------------------------------------------------------------------- +
| Column         Type    Sample                                                           |
+ --------------------------------------------------------------------------------------- +
| Symbol         String  ABE                                                              |
| Name           String  Aberdeen Emerging Markets Smaller Company Opportunities Fund I   |
| LastSale       String  13.63                                                            |
| MarketCap      String  131446834.05                                                     |
| ADR TSO        String  n/a                                                              |
| IPOyear        String  n/a                                                              |
| Sector         String  n/a                                                              |
| Industry       String  n/a                                                              |
| Summary Quote  String  http://www.nasdaq.com/symbol/abe                                 |
+ --------------------------------------------------------------------------------------- +
</code></pre> 
  <p>And as you would imagine, you can "describe" the result of a query:</p> 
  <div class="highlight highlight-source-sql">
   <pre>DESCRIBE (<span class="pl-k">SELECT</span> Symbol, Name, Sector, Industry, CAST(LastSale <span class="pl-k">AS</span> DOUBLE) <span class="pl-k">AS</span> LastSale, CAST(MarketCap <span class="pl-k">AS</span> DOUBLE) <span class="pl-k">AS</span> MarketCap <span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>companylist.csv<span class="pl-pds">"</span></span>);</pre>
  </div> 
  <pre lang="text"><code>+ -------------------------------------------- +
| Column     Type    Sample                    |
+ -------------------------------------------- +
| Symbol     String  XXII                      |
| Name       String  22nd Century Group, Inc   |
| Sector     String  Consumer Non-Durables     |
| Industry   String  Farming/Seeds/Milling     |
| LastSale   Double  1.4                       |
| MarketCap  Double  1.269773582E8             |
+ -------------------------------------------- +
</code></pre> 
  <p>In fact, you can "describe" any result:</p> 
  <div class="highlight highlight-source-sql">
   <pre>DESCRIBE (SHOW FILES);</pre>
  </div> 
  <pre lang="text"><code>+ ------------------------------------------------- +
| Column        Type    Sample                      |
+ ------------------------------------------------- +
| Name          String  companylist.csv             |
| Size          Long    50166                       |
| LastModified  Date    04/29/17 05:23:22 PDT       |
| Path          String  /Users/ldaniels/git/qwery   |
+ ------------------------------------------------- +
</code></pre> 
  <p><a name="user-content-user-defined-functions" target="_blank" href=""></a></p> 
  <h4><a id="user-content-user-defined-functions" class="anchor" href="https://github.com/ldaniels528/qwery#user-defined-functions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>User-defined Functions</h4> 
  <p>Qwery supports user-defined functions.</p> 
  <p>First, let's define a simple function:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">CREATE</span> <span class="pl-k">FUNCTION</span> <span class="pl-en">simpleMath</span>(x <span class="pl-k">Integer</span>, y <span class="pl-k">Integer</span>) <span class="pl-k">AS</span>
<span class="pl-k">BEGIN</span>
   RETURN @x <span class="pl-k">+</span> @y
END;</pre>
  </div> 
  <pre lang="text"><code>+ --------------- +
| ROWS_AFFECTED   |
+ --------------- +
| 1               |
+ --------------- +
</code></pre> 
  <p>Next, let's execute the function:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">SELECT</span> simpleMath(<span class="pl-c1">7</span>, <span class="pl-c1">3</span>);</pre>
  </div> 
  <pre lang="text"><code>+ ---------- +
| simpleMath |
+ ---------- +
| 10.0       |
+ ---------- +
</code></pre> 
  <p><a name="user-content-stored-procedures" target="_blank" href=""></a></p> 
  <h4><a id="user-content-stored-procedures" class="anchor" href="https://github.com/ldaniels528/qwery#stored-procedures" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Stored Procedures</h4> 
  <p>Qwery also supports Stored Procedures.</p> 
  <p>First let's define a simple stored procedure:</p> 
  <div class="highlight highlight-source-sql">
   <pre>CREATE PROCEDURE copyData(OUT name String) <span class="pl-k">AS</span>
<span class="pl-k">BEGIN</span>
   <span class="pl-k">SELECT</span> @name
END;</pre>
  </div> 
  <pre lang="text"><code>+ --------------- +
| ROWS_AFFECTED   |
+ --------------- +
| 1               |
+ --------------- +
</code></pre> 
  <p>Next, let's invoke the procedure:</p> 
  <div class="highlight highlight-source-sql">
   <pre>CALL copyData(<span class="pl-s"><span class="pl-pds">'</span>Hello World<span class="pl-pds">'</span></span>);</pre>
  </div> 
  <pre lang="text"><code>+ ------------- +
| name          |
+ ------------- +
| Hello World   |
+ ------------- +
</code></pre> 
  <p><a name="user-content-native-sql" target="_blank" href=""></a></p> 
  <h3><a id="user-content-native-sql" class="anchor" href="https://github.com/ldaniels528/qwery#native-sql" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Native SQL</h3> 
  <p>There are times when you may want to execute a native (e.g. platform specific) SQL statement to perform tasks that Qwery may not support. In these situations, you can use the <code>NATIVE SQL</code> statement:</p> 
  <div class="highlight highlight-source-sql">
   <pre>NATIVE SQL <span class="pl-s"><span class="pl-pds">'</span>TRUNCATE TABLE company<span class="pl-pds">'</span></span>
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">'</span>jdbc:mysql://localhost:3306/test<span class="pl-pds">'</span></span>
WITH JDBC DRIVER <span class="pl-s"><span class="pl-pds">'</span>com.mysql.jdbc.Driver<span class="pl-pds">'</span></span></pre>
  </div> 
  <pre lang="text"><code>+ --------------- +
| ROWS_AFFECTED   |
+ --------------- +
| 0               |
+ --------------- +
</code></pre> 
  <p>Queries work as well:</p> 
  <div class="highlight highlight-source-sql">
   <pre>NATIVE SQL <span class="pl-s"><span class="pl-pds">'</span>SELECT * FROM company WHERE Symbol = "OCX"<span class="pl-pds">'</span></span>
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">'</span>jdbc:mysql://localhost:3306/test<span class="pl-pds">'</span></span>
WITH JDBC DRIVER <span class="pl-s"><span class="pl-pds">'</span>com.mysql.jdbc.Driver<span class="pl-pds">'</span></span></pre>
  </div> 
  <pre lang="text"><code>+ ---------------------------------------------------------------------------------------------------------------------------- +
| Symbol  Name                  LastSale  MarketCap       Sector       Industry                                                |
+ ---------------------------------------------------------------------------------------------------------------------------- +
| OCX     OncoCyte Corporation  5.9500    174701615.2000  Health Care  Biotechnology: In Vitro &amp; In Vivo Diagnostic Subst...   |
+ ---------------------------------------------------------------------------------------------------------------------------- +
</code></pre> 
  <p>You can also use string interpolation with variables:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">BEGIN</span>
    DECLARE @symbol STRING;
    <span class="pl-k">SET</span> @symbol <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>JOB<span class="pl-pds">"</span></span>;
    NATIVE SQL <span class="pl-s"><span class="pl-pds">'</span>SELECT * FROM company WHERE Symbol = "{{ symbol }}"<span class="pl-pds">'</span></span>
    <span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">'</span>jdbc:mysql://localhost:3306/test<span class="pl-pds">'</span></span>
    WITH JDBC DRIVER <span class="pl-s"><span class="pl-pds">'</span>com.mysql.jdbc.Driver<span class="pl-pds">'</span></span>
END</pre>
  </div> 
  <pre lang="text"><code>+ ---------------------------------------------------------------------------------------------- +
| Symbol  Name            LastSale  MarketCap      Sector      Industry                          |
+ ---------------------------------------------------------------------------------------------- +
| JOB     GEE Group Inc.  5.9800    56085774.1600  Technology  Diversified Commercial Services   |
+ ---------------------------------------------------------------------------------------------- +
</code></pre> 
  <p><a name="user-content-etl" target="_blank" href=""></a></p> 
  <h3><a id="user-content-qwery-etl" class="anchor" href="https://github.com/ldaniels528/qwery#qwery-etl" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Qwery ETL</h3> 
  <p><a name="user-content-how-it-works" target="_blank" href=""></a></p> 
  <h4><a id="user-content-how-it-works" class="anchor" href="https://github.com/ldaniels528/qwery#how-it-works" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>How it works</h4> 
  <p>Qwery uses a convention-over-configuration model.</p> 
  <p>The root directory is defined using an environment variable QWERY_HOME. As long as the directory defined by this variable exists, Qwery will create any necessary sub-directories.</p> 
  <p>The directory structure is as follows:</p> 
  <table> 
   <thead> 
    <tr> 
     <th>Directory</th> 
     <th>Purpose/Usage</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td>$QWERY_HOME/archive</td> 
     <td>The directory where Qwery stores processed files</td> 
    </tr> 
    <tr> 
     <td>$QWERY_HOME/config</td> 
     <td>The directory where Qwery looks for configuration files</td> 
    </tr> 
    <tr> 
     <td>$QWERY_HOME/failed</td> 
     <td>The directory where files that fail processing are moved to</td> 
    </tr> 
    <tr> 
     <td>$QWERY_HOME/inbox</td> 
     <td>The directory where Qwery looks for input files</td> 
    </tr> 
    <tr> 
     <td>$QWERY_HOME/script</td> 
     <td>The directory where Qwery looks for user-created SQL script files</td> 
    </tr> 
    <tr> 
     <td>$QWERY_HOME/work</td> 
     <td>The directory where Qwery processes files</td> 
    </tr>
   </tbody>
  </table> 
  <p>The ETL module requires two things to create a workflow; a trigger configuration and a SQL script. The trigger configuration defines which file(s) will be processed, and the SQL script describes how data will be extracted and where it will be written.</p> 
  <p><a name="user-content-sample-trigger-file" target="_blank" href=""></a></p> 
  <h5><a id="user-content-trigger-files-configuration" class="anchor" href="https://github.com/ldaniels528/qwery#trigger-files-configuration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Trigger Files Configuration</h5> 
  <p>The following is an example of a simple trigger file configuration. This example essentially directs Qwery to look for files (in $QWERY_HOME/inbox) starting with "companylist" (prefix) and ending in ".csv" (suffix), and processing them using the script file (in $QWERY_HOME/scripts).</p> 
  <div class="highlight highlight-source-json">
   <pre>[{
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Company Lists<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>constraints<span class="pl-pds">"</span></span>: [{ <span class="pl-s"><span class="pl-pds">"</span>prefix<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>companylist<span class="pl-pds">"</span></span> }, { <span class="pl-s"><span class="pl-pds">"</span>suffix<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>.csv<span class="pl-pds">"</span></span> }],
    <span class="pl-s"><span class="pl-pds">"</span>script<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>companylist.sql<span class="pl-pds">"</span></span>
}]</pre>
  </div> 
  <p><a name="user-content-sample-sql-script" target="_blank" href=""></a></p> 
  <h5><a id="user-content-sample-sql-script" class="anchor" href="https://github.com/ldaniels528/qwery#sample-sql-script" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Sample SQL Script</h5> 
  <p>The following is script to execute ($QWERY_HOME/scripts/companylist.sql) when the file has been observed:</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">INSERT INTO</span> <span class="pl-s"><span class="pl-pds">"</span>companylist.json<span class="pl-pds">"</span></span> (Symbol, Name, Sector, Industry) WITH JSON FORMAT 
<span class="pl-k">SELECT</span> Symbol, Name, Sector, Industry, <span class="pl-s"><span class="pl-pds">`</span>Summary Quote<span class="pl-pds">`</span></span>
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>companylist.csv<span class="pl-pds">"</span></span> 
WITH CSV FORMAT</pre>
  </div> 
  <p>The above SQL script is simple enough, it reads CSV records from "companylist.csv", and writes four of the fields in JSON format to "companylist.json".</p> 
  <p>Additionally, this script works well if the input and output files are known ahead of time, but often this is not the case. As a result, Qwery supports the substitution of pre-defined variables for the input file name. Consider the following script which is functionally identical to the one above.</p> 
  <div class="highlight highlight-source-sql">
   <pre><span class="pl-k">INSERT INTO</span> <span class="pl-s"><span class="pl-pds">"</span>{{ work.file.base }}.json<span class="pl-pds">"</span></span> (Symbol, Name, Sector, Industry) WITH JSON FORMAT 
<span class="pl-k">SELECT</span> Symbol, Name, Sector, Industry, <span class="pl-s"><span class="pl-pds">`</span>Summary Quote<span class="pl-pds">`</span></span>
<span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">"</span>{{ work.file.path }}<span class="pl-pds">"</span></span>
WITH CSV FORMAT</pre>
  </div> 
  <p>The following are the variables that are created by the Workflow Manager at the time of processing:</p> 
  <table> 
   <thead> 
    <tr> 
     <th>Variable name</th> 
     <th>Purpose/Usage</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td>work.file.base</td> 
     <td>The base name of the input file being processed (e.g. "companylist")</td> 
    </tr> 
    <tr> 
     <td>work.file.name</td> 
     <td>The name of the input file being processed (e.g. "companylist.csv")</td> 
    </tr> 
    <tr> 
     <td>work.file.path</td> 
     <td>The full path of the input file being processed (e.g. "/full/path/to/companylist.csv")</td> 
    </tr> 
    <tr> 
     <td>work.file.size</td> 
     <td>The size (in bytes) of the input file</td> 
    </tr> 
    <tr> 
     <td>work.path</td> 
     <td>The full path of the processing sub-directory (underneath work)</td> 
    </tr>
   </tbody>
  </table> 
  <p>The following is a sample of the input file:</p> 
  <pre lang="csv"><code>"Symbol","Name","LastSale","MarketCap","ADR TSO","IPOyear","Sector","Industry","Summary Quote",
"XXII","22nd Century Group, Inc","1.4","126977358.2","n/a","n/a","Consumer Non-Durables","Farming/Seeds/Milling","http://www.nasdaq.com/symbol/xxii",
"FAX","Aberdeen Asia-Pacific Income Fund Inc","5","1266332595","n/a","n/a","n/a","n/a","http://www.nasdaq.com/symbol/fax",
"IAF","Aberdeen Australia Equity Fund Inc","6.24","141912114.24","n/a","n/a","n/a","n/a","http://www.nasdaq.com/symbol/iaf",
"CH","Aberdeen Chile Fund, Inc.","7.06","66065291.4","n/a","n/a","n/a","n/a","http://www.nasdaq.com/symbol/ch",
"ABE           ","Aberdeen Emerging Markets Smaller Company Opportunities Fund I","13.63","131446834.05","n/a","n/a","n/a","n/a","http://www.nasdaq.com/symbol/abe",
"FCO","Aberdeen Global Income Fund, Inc.","8.62","75376107.36","n/a","n/a","n/a","n/a","http://www.nasdaq.com/symbol/fco",
"IF","Aberdeen Indonesia Fund, Inc.","7.4345","69173383.372","n/a","n/a","n/a","n/a","http://www.nasdaq.com/symbol/if",
"ISL","Aberdeen Israel Fund, Inc.","18.4242","73659933.1758","n/a","n/a","n/a","n/a","http://www.nasdaq.com/symbol/isl",
</code></pre> 
  <p>And here's an example of the output file:</p> 
  <div class="highlight highlight-source-json">
   <pre>{<span class="pl-s"><span class="pl-pds">"</span>Sector<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Consumer Non-Durables<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>22nd Century Group, Inc<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Industry<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Farming/Seeds/Milling<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Symbol<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>XXII<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Summary Quote<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>http://www.nasdaq.com/symbol/xxii<span class="pl-pds">"</span></span>}
{<span class="pl-s"><span class="pl-pds">"</span>Sector<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>n/a<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Aberdeen Asia-Pacific Income Fund Inc<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Industry<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>n/a<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Symbol<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>FAX<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Summary Quote<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>http://www.nasdaq.com/symbol/fax<span class="pl-pds">"</span></span>}
{<span class="pl-s"><span class="pl-pds">"</span>Sector<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>n/a<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Aberdeen Australia Equity Fund Inc<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Industry<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>n/a<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Symbol<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>IAF<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Summary Quote<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>http://www.nasdaq.com/symbol/iaf<span class="pl-pds">"</span></span>}
{<span class="pl-s"><span class="pl-pds">"</span>Sector<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>n/a<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Aberdeen Chile Fund, Inc.<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Industry<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>n/a<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Symbol<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>CH<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Summary Quote<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>http://www.nasdaq.com/symbol/ch<span class="pl-pds">"</span></span>}
{<span class="pl-s"><span class="pl-pds">"</span>Sector<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>n/a<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Aberdeen Emerging Markets Smaller Company Opportunities Fund I<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Industry<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>n/a<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Symbol<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>ABE<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Summary Quote<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>http://www.nasdaq.com/symbol/abe<span class="pl-pds">"</span></span>}
{<span class="pl-s"><span class="pl-pds">"</span>Sector<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>n/a<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Aberdeen Global Income Fund, Inc.<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Industry<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>n/a<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Symbol<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>FCO<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Summary Quote<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>http://www.nasdaq.com/symbol/fco<span class="pl-pds">"</span></span>}
{<span class="pl-s"><span class="pl-pds">"</span>Sector<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>n/a<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Aberdeen Indonesia Fund, Inc.<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Industry<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>n/a<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Symbol<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>IF<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Summary Quote<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>http://www.nasdaq.com/symbol/if<span class="pl-pds">"</span></span>}
{<span class="pl-s"><span class="pl-pds">"</span>Sector<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>n/a<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Aberdeen Israel Fund, Inc.<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Industry<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>n/a<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Symbol<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>ISL<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Summary Quote<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>http://www.nasdaq.com/symbol/isl<span class="pl-pds">"</span></span>}
{<span class="pl-s"><span class="pl-pds">"</span>Sector<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Capital Goods<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Acme United Corporation.<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Industry<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Industrial Machinery/Components<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Symbol<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>ACU<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Summary Quote<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>http://www.nasdaq.com/symbol/acu<span class="pl-pds">"</span></span>}
{<span class="pl-s"><span class="pl-pds">"</span>Sector<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Consumer Services<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>ACRE Realty Investors, Inc.<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Industry<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Real Estate Investment Trusts<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Symbol<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>AIII<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Summary Quote<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>http://www.nasdaq.com/symbol/aiii<span class="pl-pds">"</span></span>}</pre>
  </div> 
  <p><a name="user-content-file-archival" target="_blank" href=""></a></p> 
  <h5><a id="user-content-file-archival" class="anchor" href="https://github.com/ldaniels528/qwery#file-archival" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>File Archival</h5> 
  <p>By convention, on a file has been processed, Qwery stores the file in $QWERY_HOME/archive/<em>yyyy</em>/<em>mm</em>/<em>dd</em>/<em>hhmmss</em>/<em>pid</em>/ where:</p> 
  <ul> 
   <li><em>yyyy</em> is the 4-digit current year (e.g. 2017)</li> 
   <li><em>mm</em> is the 2-digit current month (e.g. 05)</li> 
   <li><em>dd</em> is the 2-digit current day of the month (e.g. 28)</li> 
   <li><em>hhmmss</em> is the 6-digit current time (e.g. 061107)</li> 
   <li><em>pid</em> is the unique processing ID assigned to the ETL job (e.g. "9bfc2e45-92bd-4fa4-b618-84ba554be1f8")</li> 
  </ul> 
  <p>Example: example/archive/2017/05/28/061107/9bfc2e45-92bd-4fa4-b618-84ba554be1f8/companylist.csv</p> 
  <p><a name="user-content-scheduled-events" target="_blank" href=""></a></p> 
  <h5><a id="user-content-scheduled-events" class="anchor" href="https://github.com/ldaniels528/qwery#scheduled-events" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scheduled Events</h5> 
  <p>The following is an example of a simple scheduled event configuration. This example instructs Qwery execute the indicated script 'thricePerDay.sql' (found in $QWERY_HOME/scripts) three times daily. Once at 8:15am, again at 8:15pm and finally at 10:45pm.</p> 
  <div class="highlight highlight-source-json">
   <pre>[{
  <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>ThricePerDay<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>script<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>thricePerDay.sql<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>times<span class="pl-pds">"</span></span>: [<span class="pl-s"><span class="pl-pds">"</span>8:15<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>20:15<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>22:45<span class="pl-pds">"</span></span>]
}]</pre>
  </div> 
  <p><a name="user-content-building-etl" target="_blank" href=""></a></p> 
  <h3><a id="user-content-building-and-running-the-etl" class="anchor" href="https://github.com/ldaniels528/qwery#building-and-running-the-etl" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Building and running the ETL</h3> 
  <p>Building (and assembling) the ETL is simple:</p> 
  <div class="highlight highlight-source-shell">
   <pre><span class="pl-k">~</span>/Downloads/qwery/<span class="pl-k">&gt;</span> sbt <span class="pl-s"><span class="pl-pds">"</span>project etl<span class="pl-pds">"</span></span> clean assembly </pre>
  </div> 
  <p>After the compilation completes, you'll see a message like:</p> 
  <pre lang="text"><code>[info] SHA-1: 1be8ca09eefa6053fca04765813c01d134ed8d01
[info] SHA-1: e80143d4b7b945729d5121b8d87dbc7199d89cd4
[info] Packaging /Users/ldaniels/git/qwery/app/etl/target/scala-2.12/qwery-etl-0.3.8.bin.jar ...
[info] Packaging /Users/ldaniels/git/qwery/target/scala-2.12/qwery-core-assembly-0.3.8.jar ...
[info] Done packaging.
[info] Done packaging.
</code></pre> 
  <p>Now, you can execute the ETL distributable:</p> 
  <div class="highlight highlight-source-shell">
   <pre><span class="pl-k">~</span>/Downloads/qwery/<span class="pl-k">&gt;</span> java -jar /Users/ldaniels/git/qwery/app/etl/target/scala-2.12/qwery-etl-0.3.8.bin.jar</pre>
  </div> 
  <p><em>NOTE</em>: In order to run the ETL, you'll first have to define an environment variable (QWERY_HOME) telling the application where its "home" directory is.</p> 
  <p>On a Mac, Linux or UNIX system:</p> 
  <div class="highlight highlight-source-shell">
   <pre><span class="pl-k">~</span>/Downloads/qwery/<span class="pl-k">&gt;</span> <span class="pl-k">export</span> QWERY_HOME=./example</pre>
  </div> 
  <p>On a Windows system:</p> 
  <div class="highlight highlight-source-shell">
   <pre>C:<span class="pl-cce">\D</span>ownloads<span class="pl-cce">\q</span>wery<span class="pl-cce">\&gt;</span> <span class="pl-c1">set</span> QWERY_HOME=.<span class="pl-cce">\e</span>xample</pre>
  </div> 
  <p>Once it's up and running, it should look something like the following:</p> 
  <pre lang="text"><code>[info] Running com.github.ldaniels528.qwery.etl.QweryETL 

 Qwery ETL v0.3.8
         ,,,,,
         (o o)
-----oOOo-(_)-oOOo-----
      
2017-05-28 19:56:10 INFO  ETLConfig:81 - Loading triggers from '/Users/ldaniels/git/qwery/example/config/triggers.json'...
2017-05-28 19:56:10 INFO  ETLConfig$:102 - [Company Lists] Compiling script 'companylist.sql'...
2017-05-28 19:56:10 INFO  QweryETL$:61 - Hello.
2017-05-28 19:56:51 INFO  QweryETL$:54 - [eebd64f1-5b95-458e-a2d3-745494718697] Company Lists ~&gt; 'companylist.csv'
[INFO] [05/28/2017 19:56:51.533] [qwery-akka.actor.default-dispatcher-2] [akka://qwery/user/$b] [eebd64f1-5b95-458e-a2d3-745494718697] Preparing to process Inbox:'companylist.csv'
[INFO] [05/28/2017 19:56:51.706] [qwery-akka.actor.default-dispatcher-2] [akka://qwery/user/$b] [eebd64f1-5b95-458e-a2d3-745494718697] Process completed successfully in 173 msec
[INFO] [05/28/2017 19:56:51.711] [qwery-akka.actor.default-dispatcher-2] [akka://qwery/user/$b] [eebd64f1-5b95-458e-a2d3-745494718697] 359 records, 0 failures, 358 batch (4917.8 records/sec, 758.66 KB/sec)
[INFO] [05/28/2017 19:56:51.714] [qwery-akka.actor.default-dispatcher-4] [akka://qwery/user/$a] Moving 'eebd64f1-5b95-458e-a2d3-745494718697' to '/Users/ldaniels/git/qwery/example/archive/2017/05/28/075651/eebd64f1-5b95-458e-a2d3-745494718697'
</code></pre> 
  <p><a name="user-content-repl" target="_blank" href=""></a></p> 
  <h3><a id="user-content-qwery-repl" class="anchor" href="https://github.com/ldaniels528/qwery#qwery-repl" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Qwery REPL</h3> 
  <p>Qwery offers a command line interface (CLI), which allows interactive querying or files, REST endpoints, etc.</p> 
  <p><a name="user-content-repl_start" target="_blank" href=""></a></p> 
  <h5><a id="user-content-start-the-repl" class="anchor" href="https://github.com/ldaniels528/qwery#start-the-repl" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Start the REPL</h5> 
  <pre lang="text"><code>ldaniels@Spartan:~$ sbt run

 Qwery CLI v0.3.8
         ,,,,,
         (o o)
-----oOOo-(_)-oOOo-----

Using UNIXCommandPrompt for input.
</code></pre> 
  <p>From here you can input statements and queries. <em>NOTE</em>: Just remember, queries are executed only after a blank line is entered.</p> 
  <p><a name="user-content-sdk" target="_blank" href=""></a></p> 
  <h3><a id="user-content-qwery-sdk" class="anchor" href="https://github.com/ldaniels528/qwery#qwery-sdk" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Qwery SDK</h3> 
  <p>Qwery can also be used as a Library/SDK.</p> 
  <p>Let's start with a local file (./companylist.csv)</p> 
  <pre lang="csv"><code>"Symbol","Name","LastSale","MarketCap","ADR TSO","IPOyear","Sector","Industry","Summary Quote",
"XXII","22nd Century Group, Inc","1.4","126977358.2","n/a","n/a","Consumer Non-Durables","Farming/Seeds/Milling","http://www.nasdaq.com/symbol/xxii",
"FAX","Aberdeen Asia-Pacific Income Fund Inc","5","1266332595","n/a","n/a","n/a","n/a","http://www.nasdaq.com/symbol/fax",
"IAF","Aberdeen Australia Equity Fund Inc","6.24","141912114.24","n/a","n/a","n/a","n/a","http://www.nasdaq.com/symbol/iaf",
"CH","Aberdeen Chile Fund, Inc.","7.06","66065291.4","n/a","n/a","n/a","n/a","http://www.nasdaq.com/symbol/ch",
"ABE           ","Aberdeen Emerging Markets Smaller Company Opportunities Fund I","13.63","131446834.05","n/a","n/a","n/a","n/a","http://www.nasdaq.com/symbol/abe",
"FCO","Aberdeen Global Income Fund, Inc.","8.62","75376107.36","n/a","n/a","n/a","n/a","http://www.nasdaq.com/symbol/fco",
"IF","Aberdeen Indonesia Fund, Inc.","7.4345","69173383.372","n/a","n/a","n/a","n/a","http://www.nasdaq.com/symbol/if",
"ISL","Aberdeen Israel Fund, Inc.","18.4242","73659933.1758","n/a","n/a","n/a","n/a","http://www.nasdaq.com/symbol/isl",
.
.
</code></pre> 
  <p>Let's examine the columns and values of the file</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.github.ldaniels528.qwery.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">com.github.ldaniels528.qwery.ops.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">com.github.ldaniels528.qwery.</span><span class="pl-v">Tabular</span>

<span class="pl-c"><span class="pl-c">//</span> compile the query</span>
<span class="pl-k">val</span> <span class="pl-en">query</span> <span class="pl-k">=</span> <span class="pl-en">QweryCompiler</span>(<span class="pl-s"><span class="pl-pds">"</span>DESCRIBE './companylist.csv'<span class="pl-pds">"</span></span>)
    
<span class="pl-c"><span class="pl-c">//</span> execute the query    </span>
<span class="pl-k">val</span> <span class="pl-en">results</span> <span class="pl-k">=</span> query.execute(<span class="pl-en">Scope</span>.root()) <span class="pl-c"><span class="pl-c">//</span> =&gt; Iterator[Seq[(String, Any)]]</span>

<span class="pl-c"><span class="pl-c">//</span> display the results as a table</span>
<span class="pl-k">new</span> <span class="pl-en">Tabular</span>().transform(results) foreach println    </pre>
  </div> 
  <p>The Results</p> 
  <pre lang="text"><code>+ --------------------------------------------------------------------------------------- + 
| Column         Type    Sample                                                           | 
+ --------------------------------------------------------------------------------------- + 
| Sector         String  n/a                                                              | 
| Name           String  Aberdeen Emerging Markets Smaller Company Opportunities Fund I   | 
| ADR TSO        String  n/a                                                              | 
| Industry       String  n/a                                                              | 
| Symbol         String  ABE                                                              | 
| IPOyear        String  n/a                                                              | 
| LastSale       String  13.63                                                            | 
| Summary Quote  String  http://www.nasdaq.com/symbol/abe                                 | 
| MarketCap      String  131446834.05                                                     | 
+ --------------------------------------------------------------------------------------- + 
</code></pre> 
  <p>Execute a Query against thr local file</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.github.ldaniels528.qwery.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">com.github.ldaniels528.qwery.ops.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">com.github.ldaniels528.qwery.</span><span class="pl-v">Tabular</span>

<span class="pl-c"><span class="pl-c">//</span> compile the query</span>
<span class="pl-k">val</span> <span class="pl-en">query</span> <span class="pl-k">=</span> <span class="pl-en">QweryCompiler</span>(
  <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">    |SELECT Symbol, Name, Sector, Industry, LastSale, MarketCap</span>
<span class="pl-s">    |FROM './companylist.csv'</span>
<span class="pl-s">    |WHERE Industry = 'Consumer Specialties'<span class="pl-pds">"""</span></span>.stripMargin)
    
<span class="pl-c"><span class="pl-c">//</span> execute the query    </span>
<span class="pl-k">val</span> <span class="pl-en">results</span> <span class="pl-k">=</span> query.execute(<span class="pl-en">Scope</span>.root()) <span class="pl-c"><span class="pl-c">//</span> =&gt; Iterator[Seq[(String, Any)]]</span>

<span class="pl-c"><span class="pl-c">//</span> display the results as a table</span>
<span class="pl-k">new</span> <span class="pl-en">Tabular</span>().transform(results) foreach println</pre>
  </div> 
  <p>The Results</p> 
  <pre lang="text"><code>+ ------------------------------------------------------------------------------------------------ + 
| Symbol  Name                  Sector             Industry              LastSale  MarketCap       | 
+ ------------------------------------------------------------------------------------------------ + 
| BGI     Birks Group Inc.      Consumer Services  Consumer Specialties  1.4401    25865464.7281   | 
| DGSE    DGSE Companies, Inc.  Consumer Services  Consumer Specialties  1.64      44125234.84     | 
+ ------------------------------------------------------------------------------------------------ + 
</code></pre> 
  <p>Or execute a Query against a REST-ful endpoint</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.github.ldaniels528.qwery.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">com.github.ldaniels528.qwery.ops.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">com.github.ldaniels528.qwery.</span><span class="pl-v">Tabular</span>

<span class="pl-c"><span class="pl-c">//</span> compile the query</span>
<span class="pl-k">val</span> <span class="pl-en">query</span> <span class="pl-k">=</span> <span class="pl-en">QweryCompiler</span>(
  <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">    |SELECT Symbol, Name, Sector, Industry, LastSale, MarketCap </span>
<span class="pl-s">    |FROM 'http://www.nasdaq.com/screening/companies-by-industry.aspx?exchange=AMEX&amp;render=download'</span>
<span class="pl-s">    |WHERE Sector = 'Oil/Gas Transmission'<span class="pl-pds">"""</span></span>.stripMargin)
    
<span class="pl-c"><span class="pl-c">//</span> execute the query    </span>
<span class="pl-k">val</span> <span class="pl-en">results</span> <span class="pl-k">=</span> query.execute(<span class="pl-en">Scope</span>.root()) <span class="pl-c"><span class="pl-c">//</span> =&gt; Iterator[Seq[(String, Any)]]</span>

<span class="pl-c"><span class="pl-c">//</span> display the results as a table</span>
<span class="pl-k">new</span> <span class="pl-en">Tabular</span>().transform(results) foreach println</pre>
  </div> 
  <p>The Results</p> 
  <pre lang="text"><code>+ -------------------------------------------------------------------------------------------------------------------- +
| Symbol  Name                                       Sector            Industry              LastSale  MarketCap       |
+ -------------------------------------------------------------------------------------------------------------------- +
| CQH     Cheniere Energy Partners LP Holdings, LLC  Public Utilities  Oil/Gas Transmission  25.68     5950056000      |
| CQP     Cheniere Energy Partners, LP               Public Utilities  Oil/Gas Transmission  31.75     10725987819     |
| LNG     Cheniere Energy, Inc.                      Public Utilities  Oil/Gas Transmission  45.35     10786934946.1   |
| EGAS    Gas Natural Inc.                           Public Utilities  Oil/Gas Transmission  12.5      131496600       |
+ -------------------------------------------------------------------------------------------------------------------- +
</code></pre> 
  <p>Copy (append) filtered results from one source (csv) to another (csv)</p> 
  <p>The source file (./companylist.csv) contains 360 lines of CSV text. The following query will filter these for records where the "Sector" field contains the text "Basic Industries", and write the results to the output file (./test1.csv)</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.github.ldaniels528.qwery.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">com.github.ldaniels528.qwery.ops.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">com.github.ldaniels528.qwery.</span><span class="pl-v">Tabular</span>

<span class="pl-c"><span class="pl-c">//</span> compile the statement</span>
<span class="pl-k">val</span> <span class="pl-en">statement</span> <span class="pl-k">=</span> <span class="pl-en">QweryCompiler</span>(
  <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">    |INSERT INTO './test1.csv' (Symbol, Name, Sector, Industry, LastSale, MarketCap)</span>
<span class="pl-s">    |SELECT Symbol, Name, Sector, Industry, LastSale, MarketCap</span>
<span class="pl-s">    |FROM './companylist.csv'</span>
<span class="pl-s">    |WHERE Sector = 'Basic Industries'<span class="pl-pds">"""</span></span>.stripMargin)

<span class="pl-c"><span class="pl-c">//</span> execute the query</span>
<span class="pl-k">val</span> <span class="pl-en">results</span> <span class="pl-k">=</span> statement.execute(<span class="pl-en">Scope</span>.root())

<span class="pl-c"><span class="pl-c">//</span> display the results as a table</span>
<span class="pl-k">new</span> <span class="pl-en">Tabular</span>().transform(results) foreach println</pre>
  </div> 
  <p>Output</p> 
  <pre lang="text"><code>+ --------------- +
| ROWS_INSERTED   |
+ --------------- +
| 44              |
+ --------------- +
</code></pre> 
  <p>Alternatively, you could overwrite the file instead of appending it...</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.github.ldaniels528.qwery.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">com.github.ldaniels528.qwery.ops.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">com.github.ldaniels528.qwery.</span><span class="pl-v">Tabular</span>

<span class="pl-c"><span class="pl-c">//</span> compile the statement</span>
<span class="pl-k">val</span> <span class="pl-en">statement</span> <span class="pl-k">=</span> <span class="pl-en">QweryCompiler</span>(
  <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">    |INSERT OVERWRITE './test1.csv' (Symbol, Name, Sector, Industry, LastSale, MarketCap)</span>
<span class="pl-s">    |SELECT Symbol, Name, Sector, Industry, LastSale, MarketCap</span>
<span class="pl-s">    |FROM './companylist.csv'</span>
<span class="pl-s">    |WHERE Sector = 'Basic Industries'<span class="pl-pds">"""</span></span>.stripMargin)

<span class="pl-c"><span class="pl-c">//</span> execute the query</span>
<span class="pl-k">val</span> <span class="pl-en">results</span> <span class="pl-k">=</span> statement.execute(<span class="pl-en">Scope</span>.root())

<span class="pl-c"><span class="pl-c">//</span> display the results as a table</span>
<span class="pl-k">new</span> <span class="pl-en">Tabular</span>().transform(results) foreach println</pre>
  </div> 
  <p>Output</p> 
  <pre lang="text"><code>+ --------------- +
| ROWS_INSERTED   |
+ --------------- +
| 44              |
+ --------------- +
</code></pre> 
  <p>And the output file (./test1.csv) will contain:</p> 
  <pre lang="text"><code>"Symbol","Name","Sector","Industry","LastSale","MarketCap"
"AXU","Alexco Resource Corp","Basic Industries","Precious Metals","1.43","138634117.05"
"AAU","Almaden Minerals, Ltd.","Basic Industries","Precious Metals","1.47","132378409.8"
"USAS","Americas Silver Corporation","Basic Industries","Precious Metals","2.99","118908646.22"
"AKG","Asanko Gold Inc.","Basic Industries","Mining &amp; Quarrying of Nonmetallic Minerals (No Fuels)","2.45","498032832.15"
"ASM","Avino Silver","Basic Industries","Precious Metals","1.52","79710321.52"
.
.
</code></pre> 
  <p>Copy filtered results from one source (csv) to another (json)</p> 
  <p>The source file (./companylist.csv) contains 360 lines of CSV text. The following query will filter these for records where the "Sector" field contains the text "Basic Industries", and write the results to the output file (./test1.csv)</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.github.ldaniels528.qwery.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">com.github.ldaniels528.qwery.ops.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">com.github.ldaniels528.qwery.</span><span class="pl-v">Tabular</span>

<span class="pl-c"><span class="pl-c">//</span> compile the statement</span>
<span class="pl-k">val</span> <span class="pl-en">statement</span> <span class="pl-k">=</span> <span class="pl-en">QweryCompiler</span>(
  <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">    |INSERT INTO './test1.json' (Symbol, Name, Sector, Industry, LastSale, MarketCap)</span>
<span class="pl-s">    |SELECT Symbol, Name, Sector, Industry, LastSale, MarketCap</span>
<span class="pl-s">    |FROM './companylist.csv'</span>
<span class="pl-s">    |WHERE Sector = 'Basic Industries'<span class="pl-pds">"""</span></span>.stripMargin)

<span class="pl-c"><span class="pl-c">//</span> execute the query</span>
<span class="pl-k">val</span> <span class="pl-en">results</span> <span class="pl-k">=</span> statement.execute(<span class="pl-en">Scope</span>.root())

<span class="pl-c"><span class="pl-c">//</span> display the results as a table</span>
<span class="pl-k">new</span> <span class="pl-en">Tabular</span>().transform(results) foreach println</pre>
  </div> 
  <p>Output</p> 
  <pre lang="text"><code>+ --------------- +
| ROWS_INSERTED   |
+ --------------- +
| 44              |
+ --------------- +
</code></pre> 
  <p>And the output file (./test1.json) will contain:</p> 
  <div class="highlight highlight-source-json">
   <pre>{<span class="pl-s"><span class="pl-pds">"</span>Sector<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Basic Industries<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Alexco Resource Corp<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Industry<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Precious Metals<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Symbol<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>AXU<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>LastSale<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>1.43<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>MarketCap<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>138634117.05<span class="pl-pds">"</span></span>}
{<span class="pl-s"><span class="pl-pds">"</span>Sector<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Basic Industries<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Almaden Minerals, Ltd.<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Industry<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Precious Metals<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Symbol<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>AAU<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>LastSale<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>1.47<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>MarketCap<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>132378409.8<span class="pl-pds">"</span></span>}
{<span class="pl-s"><span class="pl-pds">"</span>Sector<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Basic Industries<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Americas Silver Corporation<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Industry<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Precious Metals<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Symbol<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>USAS<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>LastSale<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>2.99<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>MarketCap<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>118908646.22<span class="pl-pds">"</span></span>}
{<span class="pl-s"><span class="pl-pds">"</span>Sector<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Basic Industries<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Asanko Gold Inc.<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Industry<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Mining &amp; Quarrying of Nonmetallic Minerals (No Fuels)<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Symbol<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>AKG<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>LastSale<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>2.45<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>MarketCap<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>498032832.15<span class="pl-pds">"</span></span>}
{<span class="pl-s"><span class="pl-pds">"</span>Sector<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Basic Industries<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Avino Silver<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Industry<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>Precious Metals<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Symbol<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>ASM<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>LastSale<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>1.52<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>MarketCap<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>79710321.52<span class="pl-pds">"</span></span>}
.
.</pre>
  </div> 
  <p><a name="user-content-faq" target="_blank" href=""></a></p> 
  <h3><a id="user-content-frequently-asked-questions-faq" class="anchor" href="https://github.com/ldaniels528/qwery#frequently-asked-questions-faq" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Frequently Asked Questions (FAQ)</h3> 
  <p><strong>Q</strong>: How do I reference a field that contains spaces or special characters?</p> 
  <p><strong>A</strong>: Use back ticks (`).</p> 
  <p><strong>Q</strong>: Is ORDER BY supported?</p> 
  <p><strong>A</strong>: No, ORDER BY is not yet supported.</p> 
  <p><strong>Q</strong>: Is GROUP BY supported?</p> 
  <p><strong>A</strong>: Yes; however, only for a single column</p> 
  <p><strong>Q</strong>: Are VIEWs supported?</p> 
  <p><strong>A</strong>: Yes, but they are not persistent.</p> 
 </article>
</div>