<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-paiges" class="anchor" href="https://github.com/typelevel/paiges#paiges" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Paiges</h1> 
  <h2><a id="user-content-overview" class="anchor" href="https://github.com/typelevel/paiges#overview" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Overview</h2> 
  <p>Paiges is an implementation of <a href="http://homepages.inf.ed.ac.uk/wadler/papers/prettier/prettier.pdf" target="_blank">Wadler's "A Prettier Printer"</a>.</p> 
  <p>The library is useful any time you find yourself generating text or source code where you'd like to control the length of lines (e.g. paragraph wrapping).</p> 
  <p>The name <em>Paiges</em> is a reference to the <a href="https://en.wikipedia.org/wiki/Paige_Compositor" target="_blank">Paige compositor</a> and the fact that it helps you layout pages.</p> 
  <p><a href="https://travis-ci.org/typelevel/paiges" target="_blank"><img src="https://camo.githubusercontent.com/32a903b47174f68587d48888fe33f8b98ce23ce5/68747470733a2f2f6170692e7472617669732d63692e6f72672f747970656c6576656c2f7061696765732e737667" alt="Build Status" data-canonical-src="https://api.travis-ci.org/typelevel/paiges.svg" style="max-width:100%;"></a> <a href="http://codecov.io/github/typelevel/paiges?branch=master" target="_blank"><img src="https://camo.githubusercontent.com/eb2c0467b02e37d2b1ff8b6a59b7e18458c2aa98/687474703a2f2f636f6465636f762e696f2f6769746875622f747970656c6576656c2f7061696765732f636f7665726167652e7376673f6272616e63683d6d6173746572" alt="codecov.io" data-canonical-src="http://codecov.io/github/typelevel/paiges/coverage.svg?branch=master" style="max-width:100%;"></a> <a href="https://index.scala-lang.org/typelevel/paiges/paiges-core" target="_blank"><img src="https://camo.githubusercontent.com/808f80c13002023c3f617d38c80084e043e503f8/68747470733a2f2f696e6465782e7363616c612d6c616e672e6f72672f747970656c6576656c2f7061696765732f7061696765732d636f72652f6c61746573742e7376673f636f6c6f723d6f72616e6765" alt="Latest version" data-canonical-src="https://index.scala-lang.org/typelevel/paiges/paiges-core/latest.svg?color=orange" style="max-width:100%;"></a></p> 
  <h2><a id="user-content-quick-start" class="anchor" href="https://github.com/typelevel/paiges#quick-start" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Quick Start</h2> 
  <p>Paiges supports Scala 2.10, 2.11, and 2.12. It supports both the JVM and JS platforms.</p> 
  <p>To use Paiges in your own project, you can include this snippet in your <code>build.sbt</code> file:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> use this snippet for the JVM</span>
libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.typelevel<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>paiges-core<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.2.0<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">//</span> use this snippet for JS, or cross-building</span>
libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.typelevel<span class="pl-pds">"</span></span> <span class="pl-k">%%%</span> <span class="pl-s"><span class="pl-pds">"</span>paiges-core<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.2.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>Paiges also provides types to work with Cats via the <em>paiges-cats</em> module:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> use this snippet for the JVM</span>
libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.typelevel<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>paiges-cats<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.2.0<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">//</span> use this snippet for JS, or cross-building</span>
libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.typelevel<span class="pl-pds">"</span></span> <span class="pl-k">%%%</span> <span class="pl-s"><span class="pl-pds">"</span>paiges-cats<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.2.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <h2><a id="user-content-description" class="anchor" href="https://github.com/typelevel/paiges#description" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Description</h2> 
  <p>This code is a direct port of the code in section 7 of this paper, with an attempt to be idiomatic in scala while preserving the original code's properties, including laziness.</p> 
  <p>This algorithm is optimal and bounded. From the paper:</p> 
  <blockquote> 
   <p>Say that a pretty printing algorithm is optimal if it chooses line breaks so as to avoid overflow whenever possible; say that it is bounded if it can make this choice after looking at no more than the next w characters, where w is the line width. Hughes notes that there is no algorithm to choose line breaks for his combinators that is optimal and bounded, while the layout algorithm presented here has both properties.</p> 
  </blockquote> 
  <p>Some selling points of this code:</p> 
  <ol> 
   <li>Lazy, O(1) concatenation</li> 
   <li>Competitive performance (e.g. 3-5x slower than <code>mkString</code>)</li> 
   <li>Elegantly handle indentation</li> 
   <li>Flexible line-wrapping strategies</li> 
   <li>Functional cred ;)</li> 
  </ol> 
  <h2><a id="user-content-examples" class="anchor" href="https://github.com/typelevel/paiges#examples" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Examples</h2> 
  <p>Here's an example of using Paiges to generate the source code for a case class:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">org.typelevel.paiges.</span><span class="pl-v">_</span>

<span class="pl-c"><span class="pl-c">/**</span></span>
<span class="pl-c"> * Produces a case class given a name and zero-or-more</span>
<span class="pl-c"> * field/type pairs.</span>
<span class="pl-c"> <span class="pl-c">*/</span></span>
<span class="pl-k">def</span> <span class="pl-en">mkCaseClass</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">fields</span>: (<span class="pl-k">String</span>, <span class="pl-k">String</span>)<span class="pl-k">*</span>)<span class="pl-k">:</span> <span class="pl-en">Doc</span> <span class="pl-k">=</span> {
  <span class="pl-k">val</span> <span class="pl-en">prefix</span> <span class="pl-k">=</span> <span class="pl-en">Doc</span>.text(<span class="pl-s"><span class="pl-pds">"</span>case class <span class="pl-pds">"</span></span>) <span class="pl-k">+</span> <span class="pl-en">Doc</span>.text(name) <span class="pl-k">+</span> <span class="pl-en">Doc</span>.char(<span class="pl-c1">'('</span>)
  <span class="pl-k">val</span> <span class="pl-en">suffix</span> <span class="pl-k">=</span> <span class="pl-en">Doc</span>.char(<span class="pl-c1">')'</span>)
  <span class="pl-k">val</span> <span class="pl-en">types</span> <span class="pl-k">=</span> fields.map { <span class="pl-k">case</span> (k, v) <span class="pl-k">=&gt;</span>
    <span class="pl-en">Doc</span>.text(k) <span class="pl-k">+</span> <span class="pl-en">Doc</span>.char(<span class="pl-c1">':'</span>) <span class="pl-k">+</span> <span class="pl-en">Doc</span>.space <span class="pl-k">+</span> <span class="pl-en">Doc</span>.text(v)
  }
  <span class="pl-k">val</span> <span class="pl-en">body</span> <span class="pl-k">=</span> <span class="pl-en">Doc</span>.intercalate(<span class="pl-en">Doc</span>.char(<span class="pl-c1">','</span>) <span class="pl-k">+</span> <span class="pl-en">Doc</span>.line, types)
  body.tightBracketBy(prefix, suffix)
}

<span class="pl-k">val</span> <span class="pl-en">c</span> <span class="pl-k">=</span> mkCaseClass(
  <span class="pl-s"><span class="pl-pds">"</span>Dog<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>String<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>breed<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>String<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>height<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>Int<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>weight<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>Int<span class="pl-pds">"</span></span>)

c.render(<span class="pl-c1">80</span>)
<span class="pl-c"><span class="pl-c">//</span> case class Dog(name: String, breed: String, height: Int, weight: Int)</span>

c.render(<span class="pl-c1">60</span>)
<span class="pl-c"><span class="pl-c">//</span> case class Dog(</span>
<span class="pl-c"><span class="pl-c">//</span>   name: String,</span>
<span class="pl-c"><span class="pl-c">//</span>   breed: String,</span>
<span class="pl-c"><span class="pl-c">//</span>   height: Int,</span>
<span class="pl-c"><span class="pl-c">//</span>   weight: Int</span>
<span class="pl-c"><span class="pl-c">//</span> )</span></pre>
  </div> 
  <p>For more examples, see the <a href="https://github.com/typelevel/paiges/blob/master/docs/src/main/tut/intro.md" target="_blank">tutorial</a>.</p> 
  <h2><a id="user-content-benchmarks" class="anchor" href="https://github.com/typelevel/paiges#benchmarks" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Benchmarks</h2> 
  <p>The Paiges benchmarks are written against JMH. To run them, you'll want to use a command like this from SBT:</p> 
  <pre><code>benchmark/jmh:run -wi 5 -i 5 -f1 -t1 bench.PaigesBenchmark
</code></pre> 
  <p>By default the values reported are <em>ops/ms</em> (operations per millisecond), so higher numbers are better.</p> 
  <p>The parameters used here are:</p> 
  <ul> 
   <li><code>-wi</code>: the number of times to run during warmup</li> 
   <li><code>-i</code>: the number of times to benchmark</li> 
   <li><code>-f</code>: the number of processes to use during benchmarking</li> 
   <li><code>-t</code>: the number of threads to use during benchmarking</li> 
  </ul> 
  <p>In other words, the example command-line runs one thread in one process, with a relatively small number of warmups + runs (so that it will finish relatively quickly).</p> 
  <h2><a id="user-content-organization" class="anchor" href="https://github.com/typelevel/paiges#organization" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Organization</h2> 
  <p>The current Paiges maintainers are:</p> 
  <ul> 
   <li><a href="https://github.com/johnynek" target="_blank">Oscar Boykin</a></li> 
   <li><a href="https://github.com/coltfred" target="_blank">Colt Frederickson</a></li> 
   <li><a href="https://github.com/non" target="_blank">Erik Osheim</a></li> 
  </ul> 
  <p>People are expected to follow the <a href="http://typelevel.org/conduct.html" target="_blank">Typelevel Code of Conduct</a> when discussing Paiges on the Github page or other official venues.</p> 
  <p>Concerns or issues can be sent to any of Paiges' maintainers, or to the Typelevel organization.</p> 
  <h2><a id="user-content-license" class="anchor" href="https://github.com/typelevel/paiges#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>Paiges is licensed under the <a href="https://github.com/typelevel/paiges/blob/master/LICENSE" target="_blank">Apache License, Version 2.0</a> (the "License"); you may not use this software except in compliance with the License.</p> 
  <p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p> 
 </article>
</div>