<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-dendrites" class="anchor" href="https://github.com/garyaiki/dendrites#dendrites" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>dendrites</h1> 
  <p><a href="https://opensource.org/licenses/Apache-2.0" target="_blank"><img src="https://camo.githubusercontent.com/8051e9938a1ab39cf002818dfceb6b6092f34d68/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d417061636865253230322e302d626c75652e737667" alt="License" data-canonical-src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" style="max-width:100%;"></a></p> 
  <p>Streaming components in Scala for building Microservices, Event Sourcing, Event Logging, CQRS, and Reactive systems. Functions and pre-built stream stages for Akka Streams, HTTP, Actors, Kafka, Cassandra, Algebird, and Avro. The ACK in a <a href="https://mesosphere.com/blog/2017/06/21/smack-stack-new-lamp-stack/" target="_blank">SMACK stack</a></p> 
  <p>It's meant to be used as</p> 
  <ul> 
   <li>a more adaptable alternative to frameworks and products</li> 
   <li>examples for learning how to use these components and work with streams</li> 
   <li>templates for other components or custom alternatives</li> 
   <li>is in your product</li> 
  </ul> 
  <p>This Readme covers download, setup and configuration, unit and integration testing and adding it to your project. Documentation is on the <a href="https://garyaiki.github.io/dendrites/" target="_blank">website</a>, Scaladocs have examples and lower level descriptions.</p> 
  <h4><a id="user-content-add-dendrites-to-your-project" class="anchor" href="https://github.com/garyaiki/dendrites#add-dendrites-to-your-project" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Add dendrites to your project</h4> 
  <h5><a id="user-content-download-from-maven-central" class="anchor" href="https://github.com/garyaiki/dendrites#download-from-maven-central" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Download from Maven Central</h5> 
  <p><a href="http://mvnrepository.com/artifact/com.github.garyaiki" target="_blank">dendrites</a></p> 
  <h5><a id="user-content-sbt" class="anchor" href="https://github.com/garyaiki/dendrites#sbt" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>sbt</h5> 
  <p>Add dependency in <code>build.sbt</code></p> 
  <p><code>libraryDependencies += "com.github.garyaiki" % "dendrites_2.12" % "0.6.0"</code></p> 
  <h5><a id="user-content-maven" class="anchor" href="https://github.com/garyaiki/dendrites#maven" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Maven</h5> 
  <p>Add dependency in <code>pom.xml</code></p> 
  <pre><code>`&lt;!-- https://mvnrepository.com/artifact/com.github.garyaiki/dendrites_2.12 --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.github.garyaiki&lt;/groupId&gt;
    &lt;artifactId&gt;dendrites_2.12&lt;/artifactId&gt;
    &lt;version&gt;0.6.0&lt;/version&gt;
&lt;/dependency&gt;`
</code></pre> 
  <h4><a id="user-content-build-from-source" class="anchor" href="https://github.com/garyaiki/dendrites#build-from-source" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Build from source</h4> 
  <p>Requires Java 8 <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank">download jdk8</a> and Scala 2.12 <a href="http://www.scala-lang.org/download/" target="_blank">download scala</a>. Clone or download dendrites from Github, see <a href="https://help.github.com/articles/cloning-a-repository/" target="_blank">cloning-a-repository</a></p> 
  <h4><a id="user-content-build-and-test-with-sbt" class="anchor" href="https://github.com/garyaiki/dendrites#build-and-test-with-sbt" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Build and test with sbt</h4> 
  <p><a href="https://github.com/garyaiki/dendrites/blob/master/project/build.properties" target="_blank">sbt version</a>, <a href="http://www.scala-sbt.org/download.html" target="_blank">download</a>, <a href="http://www.scala-sbt.org/documentation.html" target="_blank">documentation</a></p> 
  <h5><a id="user-content-sbt-commands" class="anchor" href="https://github.com/garyaiki/dendrites#sbt-commands" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>sbt commands</h5> 
  <p>In a terminal window <code>cd</code> to the dendrites directory.</p> 
  <p><code>$ sbt</code> launch sbt, returns <code>&gt;</code> prompt</p> 
  <p><code>&gt; help</code> list available help</p> 
  <p><code>&gt; update</code> Resolves and optionally retrieves dependencies.</p> 
  <p><code>&gt; clean</code> Deletes files produced by the build under <code>target</code> directory</p> 
  <p><code>&gt; compile</code> Compiles sources under <code>src/main/scala</code></p> 
  <p><code>&gt; test:compile</code> Compiles unit test sources under <code>src/test/scala</code></p> 
  <p><code>&gt; it:compile</code> Compiles integration test sources under <code>src/it/scala</code></p> 
  <p><code>&gt; test</code> Executes unit tests.</p> 
  <p><code>&gt; testOnly</code> Executes specific unit tests</p> 
  <p><code>&gt; testQuick</code> Re-executes failed unit tests</p> 
  <p><code>&gt; package</code> Produces the jar.</p> 
  <p><code>&gt; doc</code> Generates Scaladocs in <code>/dendrites/target/scala-2.12/api</code></p> 
  <p><code>&gt; scalastyle</code> Run scalastyle on source code under <code>src/main/scala</code></p> 
  <p><code>&gt; test:scalastyle</code> Run scalastyle on source code under <code>src/test/scala</code></p> 
  <p><code>&gt; dependencyTree</code> Prints an ascii tree of all the dependencies to the console</p> 
  <p><code>&gt; exit</code> quit sbt</p> 
  <h4><a id="user-content-build-and-test-with-maven" class="anchor" href="https://github.com/garyaiki/dendrites#build-and-test-with-maven" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Build and test with Maven</h4> 
  <p><a href="https://maven.apache.org/index.html" target="_blank">Maven</a></p> 
  <h5><a id="user-content-maven-commands" class="anchor" href="https://github.com/garyaiki/dendrites#maven-commands" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Maven commands</h5> 
  <p>In a terminal window <code>cd</code> to the dendrites directory.</p> 
  <p><code>$ mvn dependency:resolve</code> Resolves and optionally retrieves dependencies.</p> 
  <p><code>$ mvn clean</code> Deletes files produced by the build under <code>target</code> directory</p> 
  <p><code>$ mvn compile</code> Compiles sources under <code>src/main/scala</code></p> 
  <p><code>$ mvn scala:testCompile</code> Compiles unit test sources under <code>src/test/scala</code></p> 
  <p><code>$ mvn test</code> Executes unit tests.</p> 
  <p><code>$ mvn install</code> Install the package in local repository, for use as in other projects locally.</p> 
  <p><code>$ mvn source:jar</code> Bundle the main sources of the project into a jar archive.</p> 
  <p><code>$ mvn scala:doc-jar</code> Generate Scaladocs in a jar</p> 
  <h4><a id="user-content-kafka" class="anchor" href="https://github.com/garyaiki/dendrites#kafka" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Kafka</h4> 
  <p>Minimal install and configure for running dendrites integration tests. <a href="http://kafka.apache.org/documentation" target="_blank">Kafka's documentation</a>, <a href="http://kafka.apache.org/downloads" target="_blank">download Kafka</a></p> 
  <p>Extract server files <code>tar -xvf kafka_2.12-0.11.*.*.tar</code></p> 
  <p>Optionally, create or replace symbolic link <code>ln -nsf kafka_2.12-0.11.*.* kafka</code></p> 
  <h5><a id="user-content-configure-server" class="anchor" href="https://github.com/garyaiki/dendrites#configure-server" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Configure server</h5> 
  <p>Edit configuration in install directory <code>/config/server.properties</code></p> 
  <h6><a id="user-content-optional-settings-for-development" class="anchor" href="https://github.com/garyaiki/dendrites#optional-settings-for-development" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Optional settings for development</h6> 
  <p>For development, you will want to delete topics. In <code>Server Basics</code> un-comment <code>delete.topic.enable=true</code></p> 
  <p>To advertise the broker in a local install. In <code>Socket Server Settings</code> add <code>listeners=PLAINTEXT://localhost:9092</code></p> 
  <p><code>port=9092</code></p> 
  <p><code>host.name=localhost</code></p> 
  <p>In production, log retention hours are 168 (1 week). For development you can shorten them to 1. In <code>Log Retention Policy</code></p> 
  <p><code>log.retention.hours=1</code></p> 
  <h5><a id="user-content-install-kafka-java-driver" class="anchor" href="https://github.com/garyaiki/dendrites#install-kafka-java-driver" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Install Kafka Java Driver</h5> 
  <p>Add dependencies to driver jars. sbt and Maven dependency settings. See <a href="http://mvnrepository.com/artifact/org.apache.kafka/kafka-clients" target="_blank">kafka-clients Maven repository page</a></p> 
  <h5><a id="user-content-configure-drivers-kafka-consumer" class="anchor" href="https://github.com/garyaiki/dendrites#configure-drivers-kafka-consumer" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Configure driver's Kafka Consumer</h5> 
  <p>Put a Consumer Config properties file on your classpath. See Kafka's <a href="http://kafka.apache.org/documentation#newconsumerconfigs" target="_blank">New Consumer Configs</a> documentation and a dendrites <a href="https://github.com/garyaiki/dendrites/blob/master/src/main/resources/kafkaConsumer.properties" target="_blank">example</a>. KafkaSource requires <code>enable.auto.commit=false</code> for stream backpressure to control commit. To pass this configuration to KafkaSource, create a subclass of <a href="https://github.com/garyaiki/dendrites/blob/master/src/main/scala/com/github/garyaiki/dendrites/kafka/ConsumerConfig.scala" target="_blank">ConsumerConfig</a>. <a href="https://github.com/garyaiki/dendrites/blob/master/src/main/scala/com/github/garyaiki/dendrites/examples/account/kafka/AccountConsumer.scala" target="_blank">example</a></p> 
  <h5><a id="user-content-configure-drivers-kafka-producer" class="anchor" href="https://github.com/garyaiki/dendrites#configure-drivers-kafka-producer" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Configure driver's Kafka Producer</h5> 
  <p>Put a Producer Config properties file on your classpath. See Kafka's <a href="http://kafka.apache.org/documentation#producerconfigs" target="_blank">Producer Configs</a> documentation <a href="https://github.com/garyaiki/dendrites/blob/master/src/main/scala/com/github/garyaiki/dendrites/examples/account/kafka/AccountProducer.scala" target="_blank">example</a> To pass this configuration to KafkaSink, create a subclass of <a href="https://github.com/garyaiki/dendrites/blob/master/src/main/scala/com/github/garyaiki/dendrites/kafka/ProducerConfig.scala" target="_blank">ProducerConfig</a> <a href="https://github.com/garyaiki/dendrites/blob/master/src/main/scala/com/github/garyaiki/dendrites/examples/account/kafka/AccountProducer.scala" target="_blank">example</a></p> 
  <h5><a id="user-content-run-kafka-server" class="anchor" href="https://github.com/garyaiki/dendrites#run-kafka-server" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Run Kafka server</h5> 
  <p>In a Terminal window <code>cd</code> to kafka install directory</p> 
  <h6><a id="user-content-start-zookeeper" class="anchor" href="https://github.com/garyaiki/dendrites#start-zookeeper" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Start Zookeeper</h6> 
  <p><code>bin/zookeeper-server-start.sh config/zookeeper.properties</code></p> 
  <p>Zookeeper will run in the foreground</p> 
  <h6><a id="user-content-start-kafka-server" class="anchor" href="https://github.com/garyaiki/dendrites#start-kafka-server" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Start Kafka server</h6> 
  <p>In a 2nd Terminal window in the same directory</p> 
  <p><code>bin/kafka-server-start.sh config/server.properties</code></p> 
  <p>Kafka server will run in the foreground</p> 
  <h6><a id="user-content-create-topic-for-1-partition" class="anchor" href="https://github.com/garyaiki/dendrites#create-topic-for-1-partition" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Create topic for 1 partition</h6> 
  <p>In a 3rd Terminal window in the same directory</p> 
  <p><code>bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic account-topic</code></p> 
  <p>This takes a few seconds.</p> 
  <h6><a id="user-content-run-integration-tests" class="anchor" href="https://github.com/garyaiki/dendrites#run-integration-tests" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Run integration tests</h6> 
  <p>Kafka server must be running and have an <code>account-topic</code></p> 
  <p>In dendrites directory terminal window with sbt running</p> 
  <p><code>&gt; it:compile</code></p> 
  <p><code>&gt; it:testOnly com.github.garyaiki.dendrites.kafka.KafkaProducerConsumerSpec</code></p> 
  <p><code>&gt; it:testOnly com.github.garyaiki.dendrites.kafka.AvroKafkaProducerConsumerSpec</code></p> 
  <p><code>&gt; it:testOnly com.github.garyaiki.dendrites.kafka.stream.KafkaStreamSpec</code></p> 
  <p>Note: KafkaStreamSpec, ShoppingCartCmdSpec creates KafkaConsumer in KafkaSource. KafkaConsumer calls must all be from the same thread. KafkaSource doesn't close KafkaConsumer until the stream it's in completes. To re-run one of these tests, exit and restart sbt.</p> 
  <h6><a id="user-content-after-tests-delete-topic" class="anchor" href="https://github.com/garyaiki/dendrites#after-tests-delete-topic" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>After tests, delete topic</h6> 
  <p>List topics</p> 
  <p><code>bin/kafka-topics.sh --zookeeper localhost:2181 --list</code></p> 
  <p>Delete topic, this may not happen right away. The topic <code>_consumerOffsets</code> can't be deleted from the command line. <a href="http://kafkatool.com" target="_blank">Kafka Tool</a> is a GUI tool and free for personal use.</p> 
  <p><code>bin/kafka-topics.sh --delete --zookeeper localhost:2181 --topic account-topic</code></p> 
  <h6><a id="user-content-shoppingcartcmd-integration-tests" class="anchor" href="https://github.com/garyaiki/dendrites#shoppingcartcmd-integration-tests" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>ShoppingCartCmd integration tests</h6> 
  <h6><a id="user-content-create-a-topic-for-1-partition" class="anchor" href="https://github.com/garyaiki/dendrites#create-a-topic-for-1-partition" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Create a topic for 1 partition</h6> 
  <p><code>bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic shoppingcartcmd-topic</code></p> 
  <p><code>it:testOnly com.github.garyaiki.dendrites.examples.cqrs.shoppingcart.ShoppingCartCmdSpec</code></p> 
  <h6><a id="user-content-after-tests-delete-topic-1" class="anchor" href="https://github.com/garyaiki/dendrites#after-tests-delete-topic-1" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>After tests, delete topic</h6> 
  <p><code>bin/kafka-topics.sh --delete --zookeeper localhost:2181 --topic shoppingcartcmd-topic</code></p> 
  <h6><a id="user-content-after-all-tests-stop-kafka-server-stop-zookeeper" class="anchor" href="https://github.com/garyaiki/dendrites#after-all-tests-stop-kafka-server-stop-zookeeper" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>After all tests, stop Kafka server, stop Zookeeper</h6> 
  <p>After topic deleted, stop Kafka server</p> 
  <p><code>bin/kafka-server-stop.sh</code></p> 
  <p>Give Zookeeper a few seconds. Then stop it too</p> 
  <p><code>bin/zookeeper-server-stop.sh</code></p> 
  <h4><a id="user-content-cassandra" class="anchor" href="https://github.com/garyaiki/dendrites#cassandra" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Cassandra</h4> 
  <p>Minimal install and configure for running dendrites integration tests, <a href="http://cassandra.apache.org/doc/latest/" target="_blank">Cassandra's documentation</a>, <a href="http://cassandra.apache.org/download/" target="_blank">download Cassandra</a></p> 
  <p>Extract files <code>tar -xvf apache-cassandra-3.11.0-bin.tar</code></p> 
  <p>Optionally, create or replace symbolic link <code>ln -nsf apache-cassandra-3.11.0 cassandra</code></p> 
  <h5><a id="user-content-configure" class="anchor" href="https://github.com/garyaiki/dendrites#configure" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Configure</h5> 
  <p>For development, default configuration can be used.</p> 
  <h5><a id="user-content-install-cassandra-java-driver" class="anchor" href="https://github.com/garyaiki/dendrites#install-cassandra-java-driver" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Install Cassandra Java Driver</h5> 
  <p>Add dependencies to <code>cassandra-driver-core</code>, <code>cassandra-driver-mapping</code>, <code>cassandra-driver-extras</code>. Driver jars with sbt and Maven dependency settings. See <a href="http://mvnrepository.com/artifact/com.datastax.cassandra" target="_blank">Datastax Cassandra Maven repository page</a></p> 
  <h5><a id="user-content-configure-cassandra-client" class="anchor" href="https://github.com/garyaiki/dendrites#configure-cassandra-client" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Configure Cassandra Client</h5> 
  <p>dendrites has an <a href="https://github.com/garyaiki/dendrites/blob/master/src/main/resources/reference.conf" target="_blank">example Cassandra configuration</a> in <code>resource.conf</code> under <code>dendrites/cassandra</code>. You can override these in your <code>application.conf</code> file. <a href="https://github.com/garyaiki/dendrites/blob/master/src/main/scala/com/github/garyaiki/dendrites/cassandra/CassandraConfig.scala" target="_blank">CassandraConfig</a> is a trait you can extend. <a href="https://github.com/garyaiki/dendrites/blob/master/src/it/scala/com/github/garyaiki/dendrites/cassandra/PlaylistSongConfig.scala" target="_blank">PlayListSongConfig</a> is an example.</p> 
  <h5><a id="user-content-run-cassandra" class="anchor" href="https://github.com/garyaiki/dendrites#run-cassandra" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Run Cassandra</h5> 
  <p>In a Terminal window <code>cd</code> to cassandra install directory</p> 
  <p><code>bin/cassandra -f</code></p> 
  <p>It will run in the foreground</p> 
  <h6><a id="user-content-run-integration-tests-1" class="anchor" href="https://github.com/garyaiki/dendrites#run-integration-tests-1" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Run integration tests</h6> 
  <p>In a dendrites directory terminal window with sbt running. These tests teardown their keyspaces, tables, and connections, run them one at a time so ScalaTest doesn't mix them up and report false errors.</p> 
  <p><code>&gt; it:compile</code></p> 
  <p><code>&gt; it:testOnly com.github.garyaiki.dendrites.cassandra.BoundStmtSpec</code></p> 
  <p><code>&gt; it:testOnly com.github.garyaiki.dendrites.cassandra.stream.CassandraSongSpec</code></p> 
  <p><code>&gt; it:testOnly com.github.garyaiki.dendrites.cassandra.stream.CassandraPlaylistSpec</code></p> 
  <p><code>&gt; it:testOnly com.github.garyaiki.dendrites.cassandra.stream.CassandraSpec</code></p> 
  <p><code>&gt; it:testOnly com.github.garyaiki.dendrites.examples.cqrs.shoppingcart.cassandra.stream.CassandraShoppingCartSpec</code></p> 
  <p><code>&gt; it:testOnly com.github.garyaiki.dendrites.examples.cqrs.shoppingcart.cassandra.stream.CassandraShoppingCartCmdSpec</code></p> 
  <p><code>&gt; it:testOnly com.github.garyaiki.dendrites.examples.cqrs.shoppingcart.cassandra.stream.CassandraShoppingCartEvtLogSpec</code></p> 
  <p><code>&gt; it:testOnly com.github.garyaiki.dendrites.examples.cqrs.shoppingcart.cmd.stream.ShoppingCartCmdAndEvtSinkSpec</code></p> 
  <p><code>&gt; it:testOnly com.github.garyaiki.dendrites.examples.cqrs.shoppingcart.cmd.stream.ShoppingCartCmdAndEvtSinksSpec</code></p> 
  <p>With Kafka shoppingcartcmd-topic</p> 
  <p><code>&gt; it:testOnly com.github.garyaiki.dendrites.examples.cqrs.shoppingcart.cmd.stream.ShoppingCartCmdAndEvtSpec</code></p> 
  <h6><a id="user-content-stop-cassandra" class="anchor" href="https://github.com/garyaiki/dendrites#stop-cassandra" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Stop Cassandra</h6> 
  <p>Exit sbt to close its connection to Cassandra. If you kill Cassandra while sbt is still it will keep trying to reconnect to Cassandra.</p> 
  <p>Then, <code>Ctrl-C</code> in the terminal running Cassandra</p> 
  <h4><a id="user-content-akka-http" class="anchor" href="https://github.com/garyaiki/dendrites#akka-http" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Akka Http</h4> 
  <p><a href="http://doc.akka.io/docs/akka-http/current/scala.html" target="_blank">documentation</a></p> 
  <p><code>Balances Server</code> is an example server that handles requests from integration tests under <code>src/it/scala</code></p> 
  <h5><a id="user-content-run-balances-server" class="anchor" href="https://github.com/garyaiki/dendrites#run-balances-server" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Run Balances Server</h5> 
  <p>These integration tests need Balances Server running to handle HTTP requests. Open a 2nd dendrites directory terminal window and start sbt in this window to run the server.</p> 
  <p><code>&gt; run</code> Runs <code>Balances Server</code> an Http server</p> 
  <h6><a id="user-content-run-integration-tests-2" class="anchor" href="https://github.com/garyaiki/dendrites#run-integration-tests-2" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Run integration tests</h6> 
  <p>In the dendrites directory terminal with sbt running</p> 
  <p><code>&gt; it:compile</code></p> 
  <p><code>&gt; it:testOnly com.github.garyaiki.dendrites.http.stream.TypedQueryResponseFlowSpec</code></p> 
  <p><code>&gt; it:testOnly com.github.garyaiki.dendrites.examples.account.http.*</code></p> 
  <p>Sometimes, some of these tests fail because Balances Server has a default limit of 4 concurrent requests and tests are running in parallel and may not get time on the server. If this happens, re-run the failed tests one at a time.</p> 
  <h6><a id="user-content-stop-balances-server" class="anchor" href="https://github.com/garyaiki/dendrites#stop-balances-server" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Stop Balances Server</h6> 
  <p><code>Ctrl-C</code> in the terminal window running Balances Server</p> 
  <h3><a id="user-content-typesafe-config" class="anchor" href="https://github.com/garyaiki/dendrites#typesafe-config" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Typesafe Config</h3> 
  <p>dendrites uses Typesafe Config. Traits with names ending in <code>Config</code> define configuration properties for components. This mediates configuration from usage, so you may use these traits with different configuration sources.</p> 
  <p><a href="https://github.com/typesafehub/config" target="_blank">Typesafe Config user guide</a>, <a href="http://doc.akka.io/docs/akka/current/scala/general/configuration.html" target="_blank">Akka config user guide</a></p> 
  <p>Configurations in <code>/src/main/resources/reference.conf</code> can be overridden by your <code>application.conf</code>.</p> 
  <p>The <code>akka</code> section is for logging and has Akka specific logging settings</p> 
  <p>Under the <code>dendrites</code> section</p> 
  <p><code>algebird</code> has default settings for CountMinSketch, DecayedValue, HyperLogLog, and QTree</p> 
  <p><code>blocking-dispatcher</code> configures a thread pool to be used when there are blocking calls</p> 
  <p><code>checking-balances</code>, <code>money-market-balances</code>, and <code>savings-balances</code> are example http client configurations</p> 
  <p><code>kafka</code> is an example topic and timeout configuration</p> 
  <p><code>cassandra</code> is an example cluster and keyspace configuration</p> 
  <p><code>timer</code> is asychronous and exponential backoff timeout configuration</p> 
  <h3><a id="user-content-logback-configuration" class="anchor" href="https://github.com/garyaiki/dendrites#logback-configuration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Logback configuration</h3> 
  <p><a href="http://logback.qos.ch/manual/configuration.html" target="_blank">Logback configuration guide</a></p> 
  <p>Logging configuration for running tests and integration tests is in <code>/src/test/resources/logback.xml</code></p> 
  <p>Your application Logback configuration is done separately. You can copy logback.xml paste it into your <code>/src/main/resources/</code> and modify it.</p> 
  <p><a href="http://logback.qos.ch/manual/loggingSeparation.html" target="_blank">Logging Separation</a></p> 
 </article>
</div>