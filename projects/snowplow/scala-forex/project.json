{
  "organization" : "snowplow",
  "repository" : "scala-forex",
  "creationDate" : 1485188756000,
  "githubStatus" : {
    "Ok" : {
      "updateDate" : 1730759804649
    }
  },
  "githubInfo" : {
    "homepage" : "http://snowplow.github.io/scala-forex/",
    "description" : "High-performance Scala library for performing exchange rate lookups and currency conversions",
    "logo" : "https://avatars.githubusercontent.com/u/1476001?v=4",
    "stars" : 46,
    "forks" : 12,
    "watchers" : 23,
    "issues" : 4,
    "creationDate" : 1379609062000,
    "readme" : "<div id=\"readme\" class=\"md\" data-path=\"README.md\"><article class=\"markdown-body entry-content container-lg\" itemprop=\"text\"><div class=\"markdown-heading\" dir=\"auto\"><h1 class=\"heading-element\" dir=\"auto\">Scala Forex</h1><a id=\"user-content-scala-forex\" class=\"anchor\" aria-label=\"Permalink: Scala Forex\" href=\"#scala-forex\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\"><a href=\"https://github.com/snowplow/scala-forex/actions?query=workflow%3ACI\"><img src=\"https://github.com/snowplow/scala-forex/workflows/CI/badge.svg\" alt=\"Build Status\" style=\"max-width: 100%;\"></a>\n<a href=\"https://maven-badges.herokuapp.com/maven-central/com.snowplowanalytics/scala-forex_2.12\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/a58a1ff95972810c7d83a0601b0545d09642c6731fbe3a7296b7429ba2b14653/68747470733a2f2f696d672e736869656c64732e696f2f6d6176656e2d63656e7472616c2f762f636f6d2e736e6f77706c6f77616e616c79746963732f7363616c612d666f7265785f322e31322e737667\" alt=\"Maven Central\" data-canonical-src=\"https://img.shields.io/maven-central/v/com.snowplowanalytics/scala-forex_2.12.svg\" style=\"max-width: 100%;\"></a>\n<a href=\"https://coveralls.io/github/snowplow/scala-forex?branch=master\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/4e8f92948764a4e253239dc2cb5664b9d7a5cec962465665184ea4605dc5d115/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f736e6f77706c6f772f7363616c612d666f7265782f62616467652e7376673f6272616e63683d6d6173746572\" alt=\"Coverage Status\" data-canonical-src=\"https://coveralls.io/repos/github/snowplow/scala-forex/badge.svg?branch=master\" style=\"max-width: 100%;\"></a>\n<a href=\"http://www.apache.org/licenses/LICENSE-2.0\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/7a000721d9f4c779f92fab63acca11dd68a29dbe28f7d0d3822f0745f9f5e6cf/687474703a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4170616368652d2d322d626c75652e7376673f7374796c653d666c6174\" alt=\"License\" data-canonical-src=\"http://img.shields.io/badge/license-Apache--2-blue.svg?style=flat\" style=\"max-width: 100%;\"></a></p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">1. Introduction</h2><a id=\"user-content-1-introduction\" class=\"anchor\" aria-label=\"Permalink: 1. Introduction\" href=\"#1-introduction\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Scala Forex is a high-performance Scala library for performing exchange rate lookups and currency conversions, using <a href=\"http://www.joda.org/joda-money/\" rel=\"nofollow\">Joda-Money</a>.</p>\n<p dir=\"auto\">It includes configurable LRU (Least Recently Used) caches to minimize calls to the API; this makes the library usable in high-volume environments such as Hadoop and Storm.</p>\n<p dir=\"auto\">Currently Scala Forex uses the <a href=\"https://openexchangerates.org/signup?r=snowplow\" rel=\"nofollow\">Open Exchange Rates API</a> to perform currency lookups.</p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">2. Setup</h2><a id=\"user-content-2-setup\" class=\"anchor\" aria-label=\"Permalink: 2. Setup\" href=\"#2-setup\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">2.1 OER Sign Up</h3><a id=\"user-content-21-oer-sign-up\" class=\"anchor\" aria-label=\"Permalink: 2.1 OER Sign Up\" href=\"#21-oer-sign-up\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">First <a href=\"https://openexchangerates.org/signup?r=snowplow\" rel=\"nofollow\">sign up</a> to Open Exchange Rates to get your App ID for API access.</p>\n<p dir=\"auto\">There are three types of accounts supported by OER API, Unlimited, Enterprise and Developer levels. See the <a href=\"https://openexchangerates.org/signup?r=snowplow\" rel=\"nofollow\">sign up</a> page for specific account descriptions. For Scala Forex, we recommend an Enterprise or Unlimited account, unless all of your conversions are to or from USD (see section 4.5 OER accounts for an explanation). For 10-minute rate updates, you will need an Unlimited account (other accounts are hourly).</p>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">2.2 Installation</h3><a id=\"user-content-22-installation\" class=\"anchor\" aria-label=\"Permalink: 2.2 Installation\" href=\"#22-installation\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">The latest version of Scala Forex is 3.0.0, which is cross-built against 2.12 &amp; 2.13.</p>\n<p dir=\"auto\">If you're using SBT, add the following lines to your build file:</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"libraryDependencies ++= Seq(\n  &quot;com.snowplowanalytics&quot; %% &quot;scala-forex&quot; % &quot;3.0.0&quot;\n)\"><pre>libraryDependencies <span class=\"pl-k\">++</span><span class=\"pl-k\">=</span> <span class=\"pl-en\">Seq</span>(\n  <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>com.snowplowanalytics<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">%%</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>scala-forex<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">%</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>3.0.0<span class=\"pl-pds\">\"</span></span>\n)</pre></div>\n<p dir=\"auto\">Note the double percent (<code>%%</code>) between the group and artifactId. That'll ensure you get the right package for your Scala version.</p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">3. Usage</h2><a id=\"user-content-3-usage\" class=\"anchor\" aria-label=\"Permalink: 3. Usage\" href=\"#3-usage\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">The Scala Forex library supports two types of usage:</p>\n<ol dir=\"auto\">\n<li>Exchange rate lookups</li>\n<li>Currency conversions</li>\n</ol>\n<p dir=\"auto\">Both usage types support live, near-live or historical (end-of-day) exchange rates.</p>\n<p dir=\"auto\">For all code samples below we are assuming the following imports:</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"import org.joda.money.CurrencyUnit\nimport com.snowplowanalytics.forex._\"><pre><span class=\"pl-k\">import</span> <span class=\"pl-en\">org</span>.<span class=\"pl-en\">joda</span>.<span class=\"pl-en\">money</span>.<span class=\"pl-en\">CurrencyUnit</span>\n<span class=\"pl-k\">import</span> <span class=\"pl-en\">com</span>.<span class=\"pl-en\">snowplowanalytics</span>.<span class=\"pl-en\">forex</span>.<span class=\"pl-en\">_</span></pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">3.1 Configuration</h3><a id=\"user-content-31-configuration\" class=\"anchor\" aria-label=\"Permalink: 3.1 Configuration\" href=\"#31-configuration\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Scala Forex is configured via <code>ForexConfig</code> case class. Except <code>appId</code> and <code>accountLevel</code> fields, it provides\nsome sensible defaults.</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"case class ForexConfig(\n  appId: String,\n  accountLevel: AccountType,\n  nowishCacheSize: Int       = 13530,\n  nowishSecs: Int            = 300,\n  eodCacheSize: Int          = 405900,\n  getNearestDay: EodRounding = EodRoundDown,\n  baseCurrency: CurrencyUnit = CurrencyUnit.USD\n)\"><pre><span class=\"pl-k\">case</span> <span class=\"pl-k\">class</span> <span class=\"pl-en\">ForexConfig</span>(\n  <span class=\"pl-v\">appId</span>: <span class=\"pl-en\">String</span>,\n  <span class=\"pl-v\">accountLevel</span>: <span class=\"pl-en\">AccountType</span>,\n  <span class=\"pl-v\">nowishCacheSize</span>: <span class=\"pl-en\">Int</span>       <span class=\"pl-k\">=</span> <span class=\"pl-c1\">13530</span>,\n  <span class=\"pl-v\">nowishSecs</span>: <span class=\"pl-en\">Int</span>            <span class=\"pl-k\">=</span> <span class=\"pl-c1\">300</span>,\n  <span class=\"pl-v\">eodCacheSize</span>: <span class=\"pl-en\">Int</span>          <span class=\"pl-k\">=</span> <span class=\"pl-c1\">405900</span>,\n  <span class=\"pl-v\">getNearestDay</span>: <span class=\"pl-en\">EodRounding</span> <span class=\"pl-k\">=</span> <span class=\"pl-en\">EodRoundDown</span>,\n  <span class=\"pl-v\">baseCurrency</span>: <span class=\"pl-en\">CurrencyUnit</span> <span class=\"pl-k\">=</span> <span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">USD</span>\n)</pre></div>\n<p dir=\"auto\">To go through each in turn:</p>\n<ol dir=\"auto\">\n<li>\n<p dir=\"auto\"><code>appId</code> is the API key you get from OER.</p>\n</li>\n<li>\n<p dir=\"auto\"><code>accountLevel</code> is the type of OER account you have. Possible values are <code>UnlimitedAccount</code>, <code>EnterpriseAccount</code>, and <code>DeveloperAccount</code>.</p>\n</li>\n<li>\n<p dir=\"auto\"><code>nowishCacheSize</code> is the size configuration for near-live (nowish) lookup cache, it can be disabled by setting its value to 0. The key to nowish cache is a currency pair so the size of the cache equals to the number of pairs of currencies available.</p>\n</li>\n<li>\n<p dir=\"auto\"><code>nowishSecs</code> is the time configuration for near-live lookup. A call to this cache will use the exchange rates stored in nowish cache if its time stamp is less than or equal to <code>nowishSecs</code> old.</p>\n</li>\n<li>\n<p dir=\"auto\"><code>eodCacheSize</code> is the size configuration for end-of-day (eod) lookup cache, it can be disabled by setting its value to 0. The key to eod cache is a tuple of currency pair and time stamp, so the size of eod cache equals to the number of currency pairs times the days which the cache will remember the data for.</p>\n</li>\n<li>\n<p dir=\"auto\"><code>getNearestDay</code> is the rounding configuration for latest eod (at) lookup. The lookup will be performed on the next day if the rounding mode is set to EodRoundUp, and on the previous day if EodRoundDown.</p>\n</li>\n<li>\n<p dir=\"auto\"><code>baseCurrency</code> can be configured to different currencies by the users.</p>\n</li>\n</ol>\n<p dir=\"auto\">For an explanation for the default values please see section <strong>5.4 Explanation of defaults</strong> below.</p>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">3.2 Rate lookup</h3><a id=\"user-content-32-rate-lookup\" class=\"anchor\" aria-label=\"Permalink: 3.2 Rate lookup\" href=\"#32-rate-lookup\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Unless specified otherwise, assume <code>forex</code> value is initialized as:</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"val config: ForexConfig = ForexConfig(&quot;YOUR_API_KEY&quot;, DeveloperAccount)\ndef fForex[F[_]: Sync]: F[Forex] = CreateForex[F].create(config)\"><pre><span class=\"pl-k\">val</span> <span class=\"pl-v\">config</span><span class=\"pl-k\">:</span> <span class=\"pl-en\">ForexConfig</span> <span class=\"pl-k\">=</span> <span class=\"pl-en\">ForexConfig</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>YOUR_API_KEY<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-en\">DeveloperAccount</span>)\n<span class=\"pl-k\">def</span> <span class=\"pl-en\">fForex</span>[<span class=\"pl-en\">F</span>[_]<span class=\"pl-k\">:</span> <span class=\"pl-en\">Sync</span>]<span class=\"pl-k\">:</span> <span class=\"pl-en\">F</span>[<span class=\"pl-en\">Forex</span>] <span class=\"pl-k\">=</span> <span class=\"pl-en\">CreateForex</span>[<span class=\"pl-en\">F</span>].create(config)</pre></div>\n<p dir=\"auto\"><code>CreateForex[F].create</code> returns <code>F[Forex]</code> instead of <code>Forex</code>, because creation of the underlying\ncaches is a side effect. You can <code>flatMap</code> over the result (or use a for-comprehension, as seen\nbelow). All examples below return <code>F[Either[OerResponseError, Money]]</code>, which means they are not\nexecuted.</p>\n<p dir=\"auto\">If you don't care about side effects, we also provide instance of <code>Forex</code> for <code>cats.Eval</code> and\n<code>cats.Id</code>:</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"val evalForex: Eval[Forex] = CreateForex[Eval].create(config)\nval idForex: Forex = CreateForex[Id].create(config)\"><pre><span class=\"pl-k\">val</span> <span class=\"pl-v\">evalForex</span><span class=\"pl-k\">:</span> <span class=\"pl-en\">Eval</span>[<span class=\"pl-en\">Forex</span>] <span class=\"pl-k\">=</span> <span class=\"pl-en\">CreateForex</span>[<span class=\"pl-en\">Eval</span>].create(config)\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">idForex</span><span class=\"pl-k\">:</span> <span class=\"pl-en\">Forex</span> <span class=\"pl-k\">=</span> <span class=\"pl-en\">CreateForex</span>[<span class=\"pl-en\">Id</span>].create(config)</pre></div>\n<p dir=\"auto\">For distributed applications, such as Spark or Beam apps, where lazy values might be an issue, you may want to use the <code>Id</code> instance.</p>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">3.2.1 Live rate</h4><a id=\"user-content-321-live-rate\" class=\"anchor\" aria-label=\"Permalink: 3.2.1 Live rate\" href=\"#321-live-rate\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Look up a live rate <em>(no caching available)</em>:</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// USD =&gt; JPY\nval usd2jpyF: F[Either[OerResponseError, Money]] = for {\n  fx     &lt;- fForex\n  result &lt;- fx.rate.to(CurrencyUnit.JPY).now\n} yield result\n\n// using Eval\nval usd2jpyE: Eval[Either[OerResponseError, Money]] = for {\n  fx     &lt;- evalForex\n  result &lt;- fx.rate.to(CurrencyUnit.JPY).now\n} yield result\n\n// using Id\nval usd2jpyI: Either[OerResponseError, Money] =\n  idForex.rate.to(CurrencyUnit.JPY).now\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> USD =&gt; JPY</span>\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">usd2jpyF</span><span class=\"pl-k\">:</span> <span class=\"pl-en\">F</span>[<span class=\"pl-en\">Either</span>[<span class=\"pl-en\">OerResponseError</span>, <span class=\"pl-en\">Money</span>]] <span class=\"pl-k\">=</span> <span class=\"pl-k\">for</span> {\n  fx     <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> fForex\n  result <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> fx.rate.to(<span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">JPY</span>).now\n} <span class=\"pl-k\">yield</span> result\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> using Eval</span>\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">usd2jpyE</span><span class=\"pl-k\">:</span> <span class=\"pl-en\">Eval</span>[<span class=\"pl-en\">Either</span>[<span class=\"pl-en\">OerResponseError</span>, <span class=\"pl-en\">Money</span>]] <span class=\"pl-k\">=</span> <span class=\"pl-k\">for</span> {\n  fx     <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> evalForex\n  result <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> fx.rate.to(<span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">JPY</span>).now\n} <span class=\"pl-k\">yield</span> result\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> using Id</span>\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">usd2jpyI</span><span class=\"pl-k\">:</span> <span class=\"pl-en\">Either</span>[<span class=\"pl-en\">OerResponseError</span>, <span class=\"pl-en\">Money</span>] <span class=\"pl-k\">=</span>\n  idForex.rate.to(<span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">JPY</span>).now</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">3.2.2 Near-live rate</h4><a id=\"user-content-322-near-live-rate\" class=\"anchor\" aria-label=\"Permalink: 3.2.2 Near-live rate\" href=\"#322-near-live-rate\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Look up a near-live rate <em>(caching available)</em>:</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// JPY =&gt; GBP\nval jpy2gbp = for {\n  fx     &lt;- fForex\n  result &lt;- fx.rate(CurrencyUnit.JPY).to(CurrencyUnit.GBP).nowish\n} yield result\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> JPY =&gt; GBP</span>\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">jpy2gbp</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">for</span> {\n  fx     <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> fForex\n  result <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> fx.rate(<span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">JPY</span>).to(<span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">GBP</span>).nowish\n} <span class=\"pl-k\">yield</span> result</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">3.2.3 Near-live rate without cache</h4><a id=\"user-content-323-near-live-rate-without-cache\" class=\"anchor\" aria-label=\"Permalink: 3.2.3 Near-live rate without cache\" href=\"#323-near-live-rate-without-cache\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Look up a near-live rate (<em>uses cache selectively</em>):</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// JPY =&gt; GBP\nval jpy2gbp = for {\n  fx     &lt;- CreateForex[IO].create(ForexConfig(&quot;YOU_API_KEY&quot;, DeveloperAccount, nowishCacheSize = 0))\n  result &lt;- fx.rate(CurrencyUnit.JPY).to(CurrencyUnit.GBP).nowish\n} yield result\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> JPY =&gt; GBP</span>\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">jpy2gbp</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">for</span> {\n  fx     <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> <span class=\"pl-en\">CreateForex</span>[<span class=\"pl-en\">IO</span>].create(<span class=\"pl-en\">ForexConfig</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>YOU_API_KEY<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-en\">DeveloperAccount</span>, nowishCacheSize <span class=\"pl-k\">=</span> <span class=\"pl-c1\">0</span>))\n  result <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> fx.rate(<span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">JPY</span>).to(<span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">GBP</span>).nowish\n} <span class=\"pl-k\">yield</span> result</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">3.2.4 Latest-prior EOD rate</h4><a id=\"user-content-324-latest-prior-eod-rate\" class=\"anchor\" aria-label=\"Permalink: 3.2.4 Latest-prior EOD rate\" href=\"#324-latest-prior-eod-rate\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Look up the latest EOD (end-of-date) rate prior to your event <em>(caching available)</em>:</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"import java.time.{ZonedDateTime, ZoneId}\n\n// USD =&gt; JPY at the end of 13/03/2011\nval tradeDate = ZonedDateTime.of(2011, 3, 13, 11, 39, 27, 567, ZoneId.of(&quot;America/New_York&quot;))\nval usd2jpy = for {\n  fx     &lt;- fForex\n  result &lt;- fx.rate.to(CurrencyUnit.JPY).at(tradeDate)\n} yield result\"><pre><span class=\"pl-k\">import</span> <span class=\"pl-en\">java</span>.<span class=\"pl-en\">time</span>.{<span class=\"pl-en\">ZonedDateTime</span>, <span class=\"pl-en\">ZoneId</span>}\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> USD =&gt; JPY at the end of 13/03/2011</span>\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">tradeDate</span> <span class=\"pl-k\">=</span> <span class=\"pl-en\">ZonedDateTime</span>.of(<span class=\"pl-c1\">2011</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">13</span>, <span class=\"pl-c1\">11</span>, <span class=\"pl-c1\">39</span>, <span class=\"pl-c1\">27</span>, <span class=\"pl-c1\">567</span>, <span class=\"pl-en\">ZoneId</span>.of(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>America/New_York<span class=\"pl-pds\">\"</span></span>))\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">usd2jpy</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">for</span> {\n  fx     <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> fForex\n  result <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> fx.rate.to(<span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">JPY</span>).at(tradeDate)\n} <span class=\"pl-k\">yield</span> result</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">3.2.5 Latest-post EOD rate</h4><a id=\"user-content-325-latest-post-eod-rate\" class=\"anchor\" aria-label=\"Permalink: 3.2.5 Latest-post EOD rate\" href=\"#325-latest-post-eod-rate\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Look up the latest EOD (end-of-date) rate post to your event <em>(caching available)</em>:</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// USD =&gt; JPY at the end of 13/03/2011\nval tradeDate = ZonedDateTime.of(2011, 3, 13, 11, 39, 27, 567, ZoneId.of(&quot;America/New_York&quot;))\nval usd2jpy = for {\n  fx     &lt;- Forex.getClient[IO](ForexConfig(&quot;YOU_API_KEY&quot;, DeveloperAccount, getNearestDay = EodRoundUp))\n  result &lt;- fx.rate.to(CurrencyUnit.JPY).at(tradeDate)\n} yield result\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> USD =&gt; JPY at the end of 13/03/2011</span>\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">tradeDate</span> <span class=\"pl-k\">=</span> <span class=\"pl-en\">ZonedDateTime</span>.of(<span class=\"pl-c1\">2011</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">13</span>, <span class=\"pl-c1\">11</span>, <span class=\"pl-c1\">39</span>, <span class=\"pl-c1\">27</span>, <span class=\"pl-c1\">567</span>, <span class=\"pl-en\">ZoneId</span>.of(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>America/New_York<span class=\"pl-pds\">\"</span></span>))\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">usd2jpy</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">for</span> {\n  fx     <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> <span class=\"pl-en\">Forex</span>.getClient[<span class=\"pl-en\">IO</span>](<span class=\"pl-en\">ForexConfig</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>YOU_API_KEY<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-en\">DeveloperAccount</span>, getNearestDay <span class=\"pl-k\">=</span> <span class=\"pl-en\">EodRoundUp</span>))\n  result <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> fx.rate.to(<span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">JPY</span>).at(tradeDate)\n} <span class=\"pl-k\">yield</span> result</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">3.2.6 Specific EOD rate</h4><a id=\"user-content-326-specific-eod-rate\" class=\"anchor\" aria-label=\"Permalink: 3.2.6 Specific EOD rate\" href=\"#326-specific-eod-rate\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Look up the EOD rate for a specific date <em>(caching available)</em>:</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// GBP =&gt; JPY at the end of 13/03/2011\nval tradeDate = ZonedDateTime.of(2011, 3, 13, 0, 0, 0, 0, ZoneId.of(&quot;America/New_York&quot;))\nval gbp2jpy = for {\n  fx     &lt;- Forex.getClient[IO](ForexConfig(&quot;YOU_API_KEY&quot;, EnterpriseAccount, baseCurrency= CurrencyUnit.GBP))\n  result &lt;- fx.rate.to(CurrencyUnit.JPY).eod(eodDate)\n} yield result\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> GBP =&gt; JPY at the end of 13/03/2011</span>\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">tradeDate</span> <span class=\"pl-k\">=</span> <span class=\"pl-en\">ZonedDateTime</span>.of(<span class=\"pl-c1\">2011</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">13</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-en\">ZoneId</span>.of(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>America/New_York<span class=\"pl-pds\">\"</span></span>))\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">gbp2jpy</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">for</span> {\n  fx     <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> <span class=\"pl-en\">Forex</span>.getClient[<span class=\"pl-en\">IO</span>](<span class=\"pl-en\">ForexConfig</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>YOU_API_KEY<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-en\">EnterpriseAccount</span>, baseCurrency<span class=\"pl-k\">=</span> <span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">GBP</span>))\n  result <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> fx.rate.to(<span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">JPY</span>).eod(eodDate)\n} <span class=\"pl-k\">yield</span> result</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">3.2.7 Specific EOD rate without cache</h4><a id=\"user-content-327-specific-eod-rate-without-cache\" class=\"anchor\" aria-label=\"Permalink: 3.2.7 Specific EOD rate without cache\" href=\"#327-specific-eod-rate-without-cache\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Look up the EOD rate for a specific date <em>(no caching)</em>:</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// GBP =&gt; JPY at the end of 13/03/2011\nval tradeDate = ZonedDateTime.of(2011, 3, 13, 0, 0, 0, 0, ZoneId.of(&quot;America/New_York&quot;))\nval gbp2jpy = for {\n  fx     &lt;- Forex.getClient[IO](ForexConfig(&quot;YOU_API_KEY&quot;, EnterPriseAccount,\n              baseCurrency = CurrencyUnit.GBP, eodCacheSize = 0))\n  result &lt;- fx.rate.to(CurrencyUnit.JPY).eod(eodDate)\n} yield result\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> GBP =&gt; JPY at the end of 13/03/2011</span>\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">tradeDate</span> <span class=\"pl-k\">=</span> <span class=\"pl-en\">ZonedDateTime</span>.of(<span class=\"pl-c1\">2011</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">13</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-en\">ZoneId</span>.of(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>America/New_York<span class=\"pl-pds\">\"</span></span>))\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">gbp2jpy</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">for</span> {\n  fx     <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> <span class=\"pl-en\">Forex</span>.getClient[<span class=\"pl-en\">IO</span>](<span class=\"pl-en\">ForexConfig</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>YOU_API_KEY<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-en\">EnterPriseAccount</span>,\n              baseCurrency <span class=\"pl-k\">=</span> <span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">GBP</span>, eodCacheSize <span class=\"pl-k\">=</span> <span class=\"pl-c1\">0</span>))\n  result <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> fx.rate.to(<span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">JPY</span>).eod(eodDate)\n} <span class=\"pl-k\">yield</span> result</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">3.3 Currency conversion</h3><a id=\"user-content-33-currency-conversion\" class=\"anchor\" aria-label=\"Permalink: 3.3 Currency conversion\" href=\"#33-currency-conversion\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">3.3.1 Live rate</h4><a id=\"user-content-331-live-rate\" class=\"anchor\" aria-label=\"Permalink: 3.3.1 Live rate\" href=\"#331-live-rate\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Conversion using the live exchange rate <em>(no caching available)</em>:</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// 9.99 USD =&gt; EUR\nval priceInEuros = for {\n  fx     &lt;- forex\n  result &lt;- fx.convert(9.99).to(CurrencyUnit.EUR).now\n} yield result\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> 9.99 USD =&gt; EUR</span>\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">priceInEuros</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">for</span> {\n  fx     <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> forex\n  result <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> fx.convert(<span class=\"pl-c1\">9.99</span>).to(<span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">EUR</span>).now\n} <span class=\"pl-k\">yield</span> result</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">3.3.2 Near-live rate</h4><a id=\"user-content-332-near-live-rate\" class=\"anchor\" aria-label=\"Permalink: 3.3.2 Near-live rate\" href=\"#332-near-live-rate\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Conversion using a near-live exchange rate with 500 seconds <code>nowishSecs</code> <em>(caching available)</em>:</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// 9.99 GBP =&gt; EUR\nval priceInEuros = for {\n  fx     &lt;- CreateForex[IO].create(ForexConfig(&quot;YOU_API_KEY&quot;, DeveloperAccount, nowishSecs = 500))\n  result &lt;- fx.convert(9.99, CurrencyUnit.GBP).to(CurrencyUnit.EUR).nowish\n} yield result\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> 9.99 GBP =&gt; EUR</span>\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">priceInEuros</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">for</span> {\n  fx     <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> <span class=\"pl-en\">CreateForex</span>[<span class=\"pl-en\">IO</span>].create(<span class=\"pl-en\">ForexConfig</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>YOU_API_KEY<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-en\">DeveloperAccount</span>, nowishSecs <span class=\"pl-k\">=</span> <span class=\"pl-c1\">500</span>))\n  result <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> fx.convert(<span class=\"pl-c1\">9.99</span>, <span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">GBP</span>).to(<span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">EUR</span>).nowish\n} <span class=\"pl-k\">yield</span> result</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">3.3.3 Near-live rate without cache</h4><a id=\"user-content-333-near-live-rate-without-cache\" class=\"anchor\" aria-label=\"Permalink: 3.3.3 Near-live rate without cache\" href=\"#333-near-live-rate-without-cache\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Note that this will be a live rate conversion if cache is not available.\nConversion using a live exchange rate with 500 seconds <code>nowishSecs</code>,\nthis conversion will be done via HTTP request:</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// 9.99 GBP =&gt; EUR\nval priceInEuros = for {\n  fx     &lt;- CreateForex[IO].create(ForexConfig(&quot;YOUR_API_KEY&quot;, DeveloperAccount, nowishSecs = 500, nowishCacheSize = 0))\n  result &lt;- fx.convert(9.99, CurrencyUnit.GBP).to(CurrencyUnit.EUR).nowish\n} yield result\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> 9.99 GBP =&gt; EUR</span>\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">priceInEuros</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">for</span> {\n  fx     <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> <span class=\"pl-en\">CreateForex</span>[<span class=\"pl-en\">IO</span>].create(<span class=\"pl-en\">ForexConfig</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>YOUR_API_KEY<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-en\">DeveloperAccount</span>, nowishSecs <span class=\"pl-k\">=</span> <span class=\"pl-c1\">500</span>, nowishCacheSize <span class=\"pl-k\">=</span> <span class=\"pl-c1\">0</span>))\n  result <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> fx.convert(<span class=\"pl-c1\">9.99</span>, <span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">GBP</span>).to(<span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">EUR</span>).nowish\n} <span class=\"pl-k\">yield</span> result</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">3.3.4 Latest-prior EOD rate</h4><a id=\"user-content-334-latest-prior-eod-rate\" class=\"anchor\" aria-label=\"Permalink: 3.3.4 Latest-prior EOD rate\" href=\"#334-latest-prior-eod-rate\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Conversion using the latest EOD (end-of-date) rate prior to your event <em>(caching available)</em>:</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// 10000 GBP =&gt; JPY at the end of 12/03/2011\nval tradeDate = ZonedDateTime.of(2011, 3, 13, 11, 39, 27, 567, ZoneId.of(&quot;America/New_York&quot;))\nval tradeInYen = for {\n  fx     &lt;- forex\n  result &lt;- fx.convert(10000, CurrencyUnit.GBP).to(CurrencyUnit.JPY).at(tradeDate)\n} yield result\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> 10000 GBP =&gt; JPY at the end of 12/03/2011</span>\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">tradeDate</span> <span class=\"pl-k\">=</span> <span class=\"pl-en\">ZonedDateTime</span>.of(<span class=\"pl-c1\">2011</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">13</span>, <span class=\"pl-c1\">11</span>, <span class=\"pl-c1\">39</span>, <span class=\"pl-c1\">27</span>, <span class=\"pl-c1\">567</span>, <span class=\"pl-en\">ZoneId</span>.of(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>America/New_York<span class=\"pl-pds\">\"</span></span>))\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">tradeInYen</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">for</span> {\n  fx     <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> forex\n  result <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> fx.convert(<span class=\"pl-c1\">10000</span>, <span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">GBP</span>).to(<span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">JPY</span>).at(tradeDate)\n} <span class=\"pl-k\">yield</span> result</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">3.3.5 Latest-post EOD rate</h4><a id=\"user-content-335-latest-post-eod-rate\" class=\"anchor\" aria-label=\"Permalink: 3.3.5 Latest-post EOD rate\" href=\"#335-latest-post-eod-rate\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Lookup the latest EOD (end-of-date) rate following your event <em>(caching available)</em>:</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// 10000 GBP =&gt; JPY at the end of 13/03/2011\nval tradeDate = ZonedDateTime.of(2011, 3, 13, 11, 39, 27, 567, ZoneId.of(&quot;America/New_York&quot;))\nval usd2jpy = for {\n  fx     &lt;- CreateForex[IO].create(ForexConfig(&quot;Your API key / app id&quot;, DeveloperAccount, getNearestDay = EodRoundUp))\n  result &lt;- fx.convert(10000, CurrencyUnit.GBP).to(CurrencyUnit.JPY).at(tradeDate)\n} yield result\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> 10000 GBP =&gt; JPY at the end of 13/03/2011</span>\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">tradeDate</span> <span class=\"pl-k\">=</span> <span class=\"pl-en\">ZonedDateTime</span>.of(<span class=\"pl-c1\">2011</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">13</span>, <span class=\"pl-c1\">11</span>, <span class=\"pl-c1\">39</span>, <span class=\"pl-c1\">27</span>, <span class=\"pl-c1\">567</span>, <span class=\"pl-en\">ZoneId</span>.of(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>America/New_York<span class=\"pl-pds\">\"</span></span>))\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">usd2jpy</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">for</span> {\n  fx     <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> <span class=\"pl-en\">CreateForex</span>[<span class=\"pl-en\">IO</span>].create(<span class=\"pl-en\">ForexConfig</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Your API key / app id<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-en\">DeveloperAccount</span>, getNearestDay <span class=\"pl-k\">=</span> <span class=\"pl-en\">EodRoundUp</span>))\n  result <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> fx.convert(<span class=\"pl-c1\">10000</span>, <span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">GBP</span>).to(<span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">JPY</span>).at(tradeDate)\n} <span class=\"pl-k\">yield</span> result</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">3.3.6 Specific EOD rate</h4><a id=\"user-content-336-specific-eod-rate\" class=\"anchor\" aria-label=\"Permalink: 3.3.6 Specific EOD rate\" href=\"#336-specific-eod-rate\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Conversion using the EOD rate for a specific date <em>(caching available)</em>:</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// 10000 GBP =&gt; JPY at the end of 13/03/2011\nval eodDate = ZonedDateTime.of(2011, 3, 13, 11, 39, 27, 567, ZoneId.of(&quot;America/New_York&quot;))\nval tradeInYen = for {\n  fx     &lt;- Forex.getClient[IO](ForexConfig(&quot;YOU_API_KEY&quot;, DeveloperAccount, baseCurrency = CurrencyUnit.GBP))\n  result &lt;- fx.convert(10000).to(CurrencyUnit.JPY).eod(eodDate)\n} yield result\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> 10000 GBP =&gt; JPY at the end of 13/03/2011</span>\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">eodDate</span> <span class=\"pl-k\">=</span> <span class=\"pl-en\">ZonedDateTime</span>.of(<span class=\"pl-c1\">2011</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">13</span>, <span class=\"pl-c1\">11</span>, <span class=\"pl-c1\">39</span>, <span class=\"pl-c1\">27</span>, <span class=\"pl-c1\">567</span>, <span class=\"pl-en\">ZoneId</span>.of(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>America/New_York<span class=\"pl-pds\">\"</span></span>))\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">tradeInYen</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">for</span> {\n  fx     <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> <span class=\"pl-en\">Forex</span>.getClient[<span class=\"pl-en\">IO</span>](<span class=\"pl-en\">ForexConfig</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>YOU_API_KEY<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-en\">DeveloperAccount</span>, baseCurrency <span class=\"pl-k\">=</span> <span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">GBP</span>))\n  result <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> fx.convert(<span class=\"pl-c1\">10000</span>).to(<span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">JPY</span>).eod(eodDate)\n} <span class=\"pl-k\">yield</span> result</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">3.3.7 Specific EOD rate without cache</h4><a id=\"user-content-337-specific-eod-rate-without-cache\" class=\"anchor\" aria-label=\"Permalink: 3.3.7 Specific EOD rate without cache\" href=\"#337-specific-eod-rate-without-cache\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Conversion using the EOD rate for a specific date, <em>(no caching)</em>:</p>\n<div class=\"highlight highlight-source-scala notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// 10000 GBP =&gt; JPY at the end of 13/03/2011\nval eodDate = ZonedDateTime.of(2011, 3, 13, 0, 0, 0, 0, ZoneId.of(&quot;America/New_York&quot;))\nval tradeInYen = for {\n  fx     &lt;- Forex.getClient[IO](ForexConfig(&quot;YOU_API_KEY&quot;, DeveloperAccount,\n              baseCurrency = CurrencyUnit.GBP, eodCacheSize = 0))\n  result &lt;- fx.convert(10000).to(CurrencyUnit.JPY).eod(eodDate)\n} yield result\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> 10000 GBP =&gt; JPY at the end of 13/03/2011</span>\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">eodDate</span> <span class=\"pl-k\">=</span> <span class=\"pl-en\">ZonedDateTime</span>.of(<span class=\"pl-c1\">2011</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">13</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-en\">ZoneId</span>.of(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>America/New_York<span class=\"pl-pds\">\"</span></span>))\n<span class=\"pl-k\">val</span> <span class=\"pl-v\">tradeInYen</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">for</span> {\n  fx     <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> <span class=\"pl-en\">Forex</span>.getClient[<span class=\"pl-en\">IO</span>](<span class=\"pl-en\">ForexConfig</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>YOU_API_KEY<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-en\">DeveloperAccount</span>,\n              baseCurrency <span class=\"pl-k\">=</span> <span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">GBP</span>, eodCacheSize <span class=\"pl-k\">=</span> <span class=\"pl-c1\">0</span>))\n  result <span class=\"pl-k\">&lt;</span><span class=\"pl-k\">-</span> fx.convert(<span class=\"pl-c1\">10000</span>).to(<span class=\"pl-en\">CurrencyUnit</span>.<span class=\"pl-en\">JPY</span>).eod(eodDate)\n} <span class=\"pl-k\">yield</span> result</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">3.4 Usage notes</h3><a id=\"user-content-34-usage-notes\" class=\"anchor\" aria-label=\"Permalink: 3.4 Usage notes\" href=\"#34-usage-notes\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">3.4.1 LRU cache</h4><a id=\"user-content-341-lru-cache\" class=\"anchor\" aria-label=\"Permalink: 3.4.1 LRU cache\" href=\"#341-lru-cache\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">The <code>eodCacheSize</code> and <code>nowishCacheSize</code> values determine the maximum number of values to keep in the LRU cache,\nwhich the Client will check prior to making an API lookup. To disable either LRU cache, set its size to zero,\ni.e. <code>eodCacheSize = 0</code>.</p>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">3.4.2 From currency selection</h4><a id=\"user-content-342-from-currency-selection\" class=\"anchor\" aria-label=\"Permalink: 3.4.2 From currency selection\" href=\"#342-from-currency-selection\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">A default <em>\"from currency\"</em> can be specified for all operations, using the <code>baseCurrency</code> argument to the <code>ForexConfig</code> object.\nIf not specified, <code>baseCurrency</code> is set to USD by default.</p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">4. Development</h2><a id=\"user-content-4-development\" class=\"anchor\" aria-label=\"Permalink: 4. Development\" href=\"#4-development\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">4.1 Running tests</h3><a id=\"user-content-41-running-tests\" class=\"anchor\" aria-label=\"Permalink: 4.1 Running tests\" href=\"#41-running-tests\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">You <strong>must</strong> export your <code>OER_KEY</code> or else the tests will be skipped. To run the test suite locally:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ export OER_KEY=&lt;&lt;key&gt;&gt;\n$ git clone https://github.com/snowplow/scala-forex.git\n$ cd scala-forex\n$ sbt test\"><pre class=\"notranslate\"><code>$ export OER_KEY=&lt;&lt;key&gt;&gt;\n$ git clone https://github.com/snowplow/scala-forex.git\n$ cd scala-forex\n$ sbt test\n</code></pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">5. Implementation details</h2><a id=\"user-content-5-implementation-details\" class=\"anchor\" aria-label=\"Permalink: 5. Implementation details\" href=\"#5-implementation-details\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">5.1 End-of-day definition</h3><a id=\"user-content-51-end-of-day-definition\" class=\"anchor\" aria-label=\"Permalink: 5.1 End-of-day definition\" href=\"#51-end-of-day-definition\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">The end of today is 00:00 on the next day.</p>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">5.2 Exchange rate lookup</h3><a id=\"user-content-52-exchange-rate-lookup\" class=\"anchor\" aria-label=\"Permalink: 5.2 Exchange rate lookup\" href=\"#52-exchange-rate-lookup\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">When <code>.now</code> is specified, the <strong>live</strong> exchange rate available from Open Exchange Rates is used.</p>\n<p dir=\"auto\">When <code>.nowish</code> is specified, a <strong>cached</strong> version of the <strong>live</strong> exchange rate is used, if the timestamp of that exchange rate is less than or equal to <code>nowishSecs</code> (see above) ago. Otherwise a new lookup is performed.</p>\n<p dir=\"auto\">When <code>.at(...)</code> is specified, the <strong>latest end-of-day rate prior</strong> to the datetime is used by default. Or users can configure that Scala Forex \"round up\" to the end of the occurring day.</p>\n<p dir=\"auto\">When <code>.eod(...)</code> is specified, the end-of-day rate for the <strong>specified day</strong> is used. Any hour/minute/second/etc portion of the datetime is ignored.</p>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">5.3 LRU cache</h3><a id=\"user-content-53-lru-cache\" class=\"anchor\" aria-label=\"Permalink: 5.3 LRU cache\" href=\"#53-lru-cache\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">We recommend trying different LRU cache sizes to see what works best for you.</p>\n<p dir=\"auto\">Please note that the LRU cache implementation is <strong>not</strong> thread-safe. Switch it off if you are working with threads.</p>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">5.4 Explanation of defaults</h3><a id=\"user-content-54-explanation-of-defaults\" class=\"anchor\" aria-label=\"Permalink: 5.4 Explanation of defaults\" href=\"#54-explanation-of-defaults\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">5.4.1 <code>nowishCache</code> = (165 * 164 / 2) = 13530</h4><a id=\"user-content-541-nowishcache--165--164--2--13530\" class=\"anchor\" aria-label=\"Permalink: 5.4.1 nowishCache = (165 * 164 / 2) = 13530\" href=\"#541-nowishcache--165--164--2--13530\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">There are 165 currencies provided by the OER API, hence 165 * 164 pairs of currency combinations.\nThe key in nowish cache is a tuple of source currency and target currency, and the nowish cache was implemented in a way such that a lookup from CurrencyA to CurrencyB or from CurrencyB to CurrencyA will use the same exchange rate, so we don't need to store both in the caches. Hence there are (165 * 164 / 2) pairs of currencies for nowish cache.</p>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">5.4.2 <code>eodCache</code> = (165 * 164 / 2) * 30 = 405900</h4><a id=\"user-content-542-eodcache--165--164--2--30--405900\" class=\"anchor\" aria-label=\"Permalink: 5.4.2 eodCache = (165 * 164 / 2) * 30 = 405900\" href=\"#542-eodcache--165--164--2--30--405900\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Assume the eod cache stores the rates to each pair of currencies for 1 month(i.e. 30 days).\nThere are 165 * 164 / 2 pairs of currencies, hence (165 * 164 / 2) * 30 entries.</p>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">5.4.3 <code>nowishSecs</code> = 300</h4><a id=\"user-content-543-nowishsecs--300\" class=\"anchor\" aria-label=\"Permalink: 5.4.3 nowishSecs = 300\" href=\"#543-nowishsecs--300\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Assume nowish cache stores data for 5 mins.</p>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">5.4.4 <code>getNearestDay</code> = EodRoundDown</h4><a id=\"user-content-544-getnearestday--eodrounddown\" class=\"anchor\" aria-label=\"Permalink: 5.4.4 getNearestDay = EodRoundDown\" href=\"#544-getnearestday--eodrounddown\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">By convention, we are always interested in the exchange rates prior to the query date, hence EodRoundDown.</p>\n<div class=\"markdown-heading\" dir=\"auto\"><h4 class=\"heading-element\" dir=\"auto\">5.4.5 <code>baseCurrency</code> = USD</h4><a id=\"user-content-545-basecurrency--usd\" class=\"anchor\" aria-label=\"Permalink: 5.4.5 baseCurrency = USD\" href=\"#545-basecurrency--usd\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">We selected USD for the base currency because this is the OER default as well.</p>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">5.5 OER accounts</h3><a id=\"user-content-55-oer-accounts\" class=\"anchor\" aria-label=\"Permalink: 5.5 OER accounts\" href=\"#55-oer-accounts\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">With Open Exchange Rates' Unlimited and Enterprise accounts, Scala Forex can specify the base currency to use when looking up exchange rates; Developer-level accounts will always retrieve rates against USD, so a rate lookup from e.g. GBY to EUR will require two conversions (GBY -&gt; USD -&gt; EUR). For this reason, we recommend Unlimited and Enterprise-level accounts for slightly more accurate non-USD-related lookups.</p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">6. Documentation</h2><a id=\"user-content-6-documentation\" class=\"anchor\" aria-label=\"Permalink: 6. Documentation\" href=\"#6-documentation\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">The Scaladoc pages for this library can be found <a href=\"http://snowplow.github.io/scala-forex/\" rel=\"nofollow\">here</a>.</p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">7. Copyright and license</h2><a id=\"user-content-7-copyright-and-license\" class=\"anchor\" aria-label=\"Permalink: 7. Copyright and license\" href=\"#7-copyright-and-license\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">Scala Forex is copyright 2013-2022 Snowplow Analytics Ltd.</p>\n<p dir=\"auto\">Licensed under the <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" rel=\"nofollow\">Apache License, Version 2.0</a> (the \"License\");\nyou may not use this software except in compliance with the License.</p>\n<p dir=\"auto\">Unless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.</p>\n</article></div>",
    "contributors" : [
      {
        "login" : "jz4112",
        "avatarUrl" : "https://avatars.githubusercontent.com/u/5749877?v=4",
        "url" : "https://github.com/jz4112",
        "contributions" : 105
      },
      {
        "login" : "alexanderdean",
        "avatarUrl" : "https://avatars.githubusercontent.com/u/200511?v=4",
        "url" : "https://github.com/alexanderdean",
        "contributions" : 77
      },
      {
        "login" : "BenFradet",
        "avatarUrl" : "https://avatars.githubusercontent.com/u/1737211?v=4",
        "url" : "https://github.com/BenFradet",
        "contributions" : 32
      },
      {
        "login" : "asoltysik",
        "avatarUrl" : "https://avatars.githubusercontent.com/u/17353292?v=4",
        "url" : "https://github.com/asoltysik",
        "contributions" : 23
      },
      {
        "login" : "oguzhanunlu",
        "avatarUrl" : "https://avatars.githubusercontent.com/u/4786472?v=4",
        "url" : "https://github.com/oguzhanunlu",
        "contributions" : 8
      },
      {
        "login" : "lukeindykiewicz",
        "avatarUrl" : "https://avatars.githubusercontent.com/u/3164986?v=4",
        "url" : "https://github.com/lukeindykiewicz",
        "contributions" : 5
      },
      {
        "login" : "chuwy",
        "avatarUrl" : "https://avatars.githubusercontent.com/u/681171?v=4",
        "url" : "https://github.com/chuwy",
        "contributions" : 4
      },
      {
        "login" : "fblundun",
        "avatarUrl" : "https://avatars.githubusercontent.com/u/5892914?v=4",
        "url" : "https://github.com/fblundun",
        "contributions" : 4
      },
      {
        "login" : "dilyand",
        "avatarUrl" : "https://avatars.githubusercontent.com/u/22545434?v=4",
        "url" : "https://github.com/dilyand",
        "contributions" : 3
      },
      {
        "login" : "benjben",
        "avatarUrl" : "https://avatars.githubusercontent.com/u/9348570?v=4",
        "url" : "https://github.com/benjben",
        "contributions" : 2
      }
    ],
    "commits" : 263,
    "topics" : [
    ],
    "contributingGuide" : null,
    "codeOfConduct" : null,
    "openIssues" : [
      {
        "number" : 179,
        "title" : "Use .get to get from the response's Map",
        "url" : "https://github.com/snowplow/scala-forex/issues/179"
      },
      {
        "number" : 93,
        "title" : "Add cache to OwmAsyncClient?",
        "url" : "https://github.com/snowplow/scala-forex/issues/93"
      },
      {
        "number" : 88,
        "title" : "Switch the OerResponses to case objects",
        "url" : "https://github.com/snowplow/scala-forex/issues/88"
      },
      {
        "number" : 78,
        "title" : "Add .recent() as synonym for .nowish()",
        "url" : "https://github.com/snowplow/scala-forex/issues/78"
      }
    ],
    "scalaPercentage" : 99,
    "license" : null,
    "commitActivity" : [
    ]
  },
  "settings" : {
    "preferStableVersion" : true,
    "defaultArtifact" : null,
    "customScalaDoc" : null,
    "documentationLinks" : [
    ],
    "contributorsWanted" : false,
    "deprecatedArtifacts" : [
    ],
    "cliArtifacts" : [
    ],
    "category" : "economy-finance-and-cryptocurrencies",
    "chatroom" : null
  }
}